{"version":3,"sources":["js/car/car.js","js/class/buildings.js","js/building/create_buildings.js","js/combat/bullet.js","js/class/player.js","js/class/enemy.js","js/car/npc_car.js","js/car/npc_car_manager.js","js/animations/player_animations.js","js/animations/change_player_color.js","js/gta.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["currentPage","document","body","dataset","page","Car","exports","default","_classCallCheck","element","createElement","classList","add","id","style","position","width","height","speed","angle","isDriftingLeft","isDriftingRight","currentArrowKey","appendChild","addEventListener","handleKeyDown","bind","handleKeyUp","_createClass","key","value","setPosition","x","y","spawnAngle","arguments","length","undefined","left","concat","top","setAngle","newAngle","transform","event","isDrifting","isTurningLeft","isTurningRight","move","angleInRadians","Math","PI","lateralMovement","driftFactor","newX","offsetLeft","cos","newY","offsetTop","sin","offsetWidth","window","innerWidth","offsetHeight","innerHeight","update","Building","overlay","getBoundingClientRect","_buildings","_interopRequireDefault","require","obj","__esModule","buildings","createBuildings","player","getElementById","_default","bullets","reload_note","querySelector","Bullet","direction","lifespan","className","fireRate","remove","index","indexOf","splice","_car","_create_buildings","_bullet","_typeof","o","Symbol","iterator","constructor","prototype","_createForOfIteratorHelper","allowArrayLike","it","Array","isArray","_unsupportedIterableToArray","i","F","s","n","done","e","_e","f","TypeError","normalCompletion","didErr","err","call","step","next","_e2","return","minLen","_arrayLikeToArray","Object","toString","slice","name","from","test","arr","len","arr2","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","_toPropertyKey","protoProps","staticProps","t","_toPrimitive","String","r","toPrimitive","Number","Player","_this","car","inCar","size","bulletsShot","maxBullets","isReloading","updateBulletsDisplay","carPositionChangeListener","isInCar","carRect","pixelSpawnIntervalId","startPixelSpawning","eatEnemy","_this2","stopPixelSpawning","setInterval","spawnPixel","setTimeout","clearInterval","pixel","backgroundColor","playerRect","textContent","bulletsCount","shootBullet","_this3","bullet","console","log","display","startReloading","reloadListener","removeEventListener","once","atan2","clientY","clientX","bulletSpeed","bulletMove","bulletRect","deltaX","deltaY","distance","sqrt","normalizedDeltaX","normalizedDeltaY","right","bottom","requestAnimationFrame","_this4","toggleCar","directionX","directionY","checkCollision","teleportToRoom","buildingId","navigateToRoom","roomPath","location","href","_iterator","_step","building","buildingRect","Enemy","random","stop","parentNode","removeChild","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","apply","self","_assertThisInitialized","ReferenceError","Boolean","valueOf","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","create","_setPrototypeOf","p","NpcCar","_Car","initialX","initialY","getCollisionRect","_npc_car","createNpcCar","keysPressed","svgFramesUp","svgFramesDown","svgFramesLeft","svgFramesRight","svgFrameShooting","currentFrames","currentIndex","isWalking","isShooting","animationTimeout","opacityTrigger","resetOpacity","opacity","startAnimation","frames","animateFrames","startShootingAnimation","stopAnimation","clearTimeout","allFrames","frame","changeColorButton","playerHeads","querySelectorAll","colorChoices","currentColorIndex","changePlayerColor","forEach","playerHead","fill","_player","_enemy","_npc_car_manager","_player_animations","_readOnlyError","npcCarInitialX","npcCarInitialY","sundayDriver","enemies","push","handlePlayerMovement","shootInterval","gameLoop","checkPlayerCollisionsWithCar","_i3","_enemies","enemy","npcCarRect","handleCarCollision","checkCollisionWithEnemies","j","enemyRect","enemyHit","checkCarCollisionWithEnemies","sundayDriverRect","_iterator2","_step2","health","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","JSON","parse","type","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","message","stack","createErrorOverlay","stackTrace","innerText","innerHTML","getParents","modules","parents","k","d","dep","Function","deps","cached","cache","some","cb"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,WAAW,GAAGC,QAAQ,CAACC,IAAI,CAACC,OAAO,CAACC,IAAI;AAAC,IAE1BC,GAAG,GAAAC,OAAA,CAAAC,OAAA;EACpB,SAAAF,IAAA,EAAc;IAAAG,eAAA,OAAAH,GAAA;IACV,IAAIL,WAAW,KAAK,cAAc,IAAIA,WAAW,KAAK,iBAAiB,EAAE;MACrE,IAAI,CAACS,OAAO,GAAGR,QAAQ,CAACS,aAAa,CAAC,KAAK,CAAC;MAC5C,IAAI,CAACD,OAAO,CAACE,SAAS,CAACC,GAAG,CAAC,KAAK,CAAC;MACjC,IAAI,CAACH,OAAO,CAACI,EAAE,GAAG,KAAK;MACvB,IAAI,CAACJ,OAAO,CAACK,KAAK,CAACC,QAAQ,GAAG,UAAU;MACxC,IAAI,CAACN,OAAO,CAACK,KAAK,CAACE,KAAK,GAAG,OAAO;MAClC,IAAI,CAACP,OAAO,CAACK,KAAK,CAACG,MAAM,GAAG,MAAM;MAClC,IAAI,CAACC,KAAK,GAAG,GAAG;MAChB,IAAI,CAACC,KAAK,GAAG,CAAC,CAAC,CAAE;MACjB,IAAI,CAACC,cAAc,GAAG,KAAK,CAAC,CAAC;MAC7B,IAAI,CAACC,eAAe,GAAG,KAAK,CAAC,CAAC;MAC9B,IAAI,CAACC,eAAe,GAAG,IAAI,CAAC,CAAC;MAC7BrB,QAAQ,CAACC,IAAI,CAACqB,WAAW,CAAC,IAAI,CAACd,OAAO,CAAC;;MAEvC;MACAR,QAAQ,CAACuB,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAACC,aAAa,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;MACnEzB,QAAQ,CAACuB,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAACG,WAAW,CAACD,IAAI,CAAC,IAAI,CAAC,CAAC;IACnE;EACJ;EAACE,YAAA,CAAAvB,GAAA;IAAAwB,GAAA;IAAAC,KAAA,EAGD,SAAAC,YAAYC,CAAC,EAAEC,CAAC,EAAkB;MAAA,IAAhBC,UAAU,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC;MAC5B,IAAI,IAAI,CAAC1B,OAAO,EAAE;QAAE;QAChB,IAAI,CAACA,OAAO,CAACK,KAAK,CAACwB,IAAI,MAAAC,MAAA,CAAMP,CAAC,OAAI;QAClC,IAAI,CAACvB,OAAO,CAACK,KAAK,CAAC0B,GAAG,MAAAD,MAAA,CAAMN,CAAC,OAAI;QACjC,IAAI,CAACQ,QAAQ,CAACP,UAAU,CAAC;MAC7B;IACJ;EAAC;IAAAL,GAAA;IAAAC,KAAA,EAED,SAAAW,SAASC,QAAQ,EAAE;MACf,IAAI,IAAI,CAACjC,OAAO,EAAE;QAAE;QAChB,IAAI,CAACU,KAAK,GAAGuB,QAAQ;QACrB,IAAI,CAACjC,OAAO,CAACK,KAAK,CAAC6B,SAAS,aAAAJ,MAAA,CAAa,IAAI,CAACpB,KAAK,SAAM;MAC7D;IACJ;EAAC;IAAAU,GAAA;IAAAC,KAAA,EAGL,SAAAL,cAAcmB,KAAK,EAAE;MACjB,QAAQA,KAAK,CAACf,GAAG;QACb,KAAK,GAAG;UACJ;UACA,IAAI,CAACgB,UAAU,GAAG,IAAI;UACtB;QACJ,KAAK,WAAW;UACZ;UACA,IAAI,CAACC,aAAa,GAAG,IAAI;UACzB;QACJ,KAAK,YAAY;UACb;UACA,IAAI,CAACC,cAAc,GAAG,IAAI;UAC1B;MACR;IACJ;EAAC;IAAAlB,GAAA;IAAAC,KAAA,EAED,SAAAH,YAAYiB,KAAK,EAAE;MACf,QAAQA,KAAK,CAACf,GAAG;QACb,KAAK,GAAG;UACJ;UACA,IAAI,CAACgB,UAAU,GAAG,KAAK;UACvB;QACJ,KAAK,WAAW;UACZ;UACA,IAAI,CAACC,aAAa,GAAG,KAAK;UAC1B;QACJ,KAAK,YAAY;UACb;UACA,IAAI,CAACC,cAAc,GAAG,KAAK;UAC3B;MACR;IACJ;EAAC;IAAAlB,GAAA;IAAAC,KAAA,EAED,SAAAkB,KAAA,EAAO;MACH;MACA,IAAMC,cAAc,GAAG,IAAI,CAAC9B,KAAK,IAAI+B,IAAI,CAACC,EAAE,GAAG,GAAG,CAAC;;MAEnD;MACA,IAAMC,eAAe,GAAG,IAAI,CAACP,UAAU,GAAG,IAAI,IAAI,IAAI,CAACC,aAAa,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;;MAElF;MACA,IAAMO,WAAW,GAAG,EAAE,CAAC,CAAC;MACxB,IAAI,CAAClC,KAAK,IAAIiC,eAAe,GAAGC,WAAW;;MAE3C;MACA,IAAMC,IAAI,GAAG,IAAI,CAAC7C,OAAO,CAAC8C,UAAU,GAAG,IAAI,CAACrC,KAAK,GAAGgC,IAAI,CAACM,GAAG,CAACP,cAAc,CAAC;MAC5E,IAAMQ,IAAI,GAAG,IAAI,CAAChD,OAAO,CAACiD,SAAS,GAAG,IAAI,CAACxC,KAAK,GAAGgC,IAAI,CAACS,GAAG,CAACV,cAAc,CAAC;;MAE3E;MACA,IACIK,IAAI,IAAI,CAAC,IACTG,IAAI,IAAI,CAAC,IACTH,IAAI,GAAG,IAAI,CAAC7C,OAAO,CAACmD,WAAW,IAAIC,MAAM,CAACC,UAAU,IACpDL,IAAI,GAAG,IAAI,CAAChD,OAAO,CAACsD,YAAY,IAAIF,MAAM,CAACG,WAAW,EACxD;QACE,IAAI,CAACvD,OAAO,CAACK,KAAK,CAACwB,IAAI,MAAAC,MAAA,CAAMe,IAAI,OAAI;QACrC,IAAI,CAAC7C,OAAO,CAACK,KAAK,CAAC0B,GAAG,MAAAD,MAAA,CAAMkB,IAAI,OAAI;QACpC,IAAI,CAAChD,OAAO,CAACK,KAAK,CAAC6B,SAAS,aAAAJ,MAAA,CAAa,IAAI,CAACpB,KAAK,SAAM;MAC7D;IACJ;EAAC;IAAAU,GAAA;IAAAC,KAAA,EAGG,SAAAmC,OAAA,EAAS;MACL;MACA,IAAI,CAACjB,IAAI,CAAC,CAAC;IACf;EAAC;EAAA,OAAA3C,GAAA;AAAA;;;;;;;;;;;;;;AC1GL;AACC;AACD;AAAA,IACqB6D,QAAQ,GAAA5D,OAAA,CAAAC,OAAA;EACzB,SAAA2D,SAAYrD,EAAE,EAAEmB,CAAC,EAAEC,CAAC,EAAEjB,KAAK,EAAEC,MAAM,EAAE;IAAAT,eAAA,OAAA0D,QAAA;IACjC,IAAI,CAACrD,EAAE,GAAGA,EAAE;IACZ,IAAI,CAACJ,OAAO,GAAGR,QAAQ,CAACS,aAAa,CAAC,KAAK,CAAC;IAC5C,IAAI,CAACD,OAAO,CAACE,SAAS,CAACC,GAAG,CAAC,UAAU,CAAC;IACtC,IAAI,CAACH,OAAO,CAACI,EAAE,GAAGA,EAAE;IACpB,IAAI,CAACJ,OAAO,CAACK,KAAK,CAACC,QAAQ,GAAG,UAAU;IACxC,IAAI,CAACN,OAAO,CAACK,KAAK,CAACwB,IAAI,MAAAC,MAAA,CAAMP,CAAC,OAAI;IAClC,IAAI,CAACvB,OAAO,CAACK,KAAK,CAAC0B,GAAG,MAAAD,MAAA,CAAMN,CAAC,OAAI;IACjC,IAAI,CAACxB,OAAO,CAACK,KAAK,CAACE,KAAK,MAAAuB,MAAA,CAAMvB,KAAK,OAAI;IACvC,IAAI,CAACP,OAAO,CAACK,KAAK,CAACG,MAAM,MAAAsB,MAAA,CAAMtB,MAAM,OAAI;IACzC;;IAEA,IAAI,CAACkD,OAAO,GAAClE,QAAQ,CAACS,aAAa,CAAC,KAAK,CAAC;IAC1C,IAAI,CAACyD,OAAO,CAACxD,SAAS,CAACC,GAAG,CAAC,SAAS,CAAC;IAErC,IAAI,CAACH,OAAO,CAACc,WAAW,CAAC,IAAI,CAAC4C,OAAO,CAAC;IACtClE,QAAQ,CAACC,IAAI,CAACqB,WAAW,CAAC,IAAI,CAACd,OAAO,CAAC;EAC3C;EAACmB,YAAA,CAAAsC,QAAA;IAAArC,GAAA;IAAAC,KAAA,EAED,SAAAsC,sBAAA,EAAwB;MACpB,OAAO,IAAI,CAAC3D,OAAO,CAAC2D,qBAAqB,CAAC,CAAC;IAC/C;EAAC;EAAA,OAAAF,QAAA;AAAA;;;;;;;;AC1BL,IAAAG,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA6C,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAjE,OAAA,EAAAiE,GAAA;AAE7C,IAAMxE,WAAW,GAAGC,QAAQ,CAACC,IAAI,CAACC,OAAO,CAACC,IAAI;AAC9C,IAAMsE,SAAS,GAAGC,eAAe,CAAC3E,WAAW,CAAC;AAC9C,IAAM4E,MAAM,GAAG3E,QAAQ,CAAC4E,cAAc,CAAC,QAAQ,CAAC,CAAC,CAAC;;AAElD;AACA,SAASF,eAAeA,CAACvE,IAAI,EAAE;EAC3B,QAAQA,IAAI;IACR,KAAK,MAAM;MACP,OAAO,CACH,IAAI8D,kBAAQ,CAAC,WAAW,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,EAC7C,IAAIA,kBAAQ,CAAC,WAAW,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG;MAC5C;MAAA,CACH;IACD,KAAK,cAAc;MACf,OAAO,CACH,IAAIA,kBAAQ,CAAC,UAAU,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,EACxC,IAAIA,kBAAQ,CAAC,YAAY,EACzB,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,EACpB,IAAIA,kBAAQ,CAAC,eAAe,EAC5B,GAAG,EAAE,GAAG,EAAE,GAAG,GAAC,GAAG,EAAE,EAAE,GAAC,GAAG,CAAC,EAC1B,IAAIA,kBAAQ,CAAC,eAAe,EAC5B,GAAG,EAAE,GAAG,EAAE,GAAG,GAAC,GAAG,EAAE,EAAE,GAAC,GAAG,CAAC,EAC1B,IAAIA,kBAAQ,CAAC,eAAe,EAC5B,GAAG,EAAE,GAAG,EAAE,GAAG,GAAC,GAAG,EAAE,EAAE,GAAC,GAAG,CAAC,EAC1B,IAAIA,kBAAQ,CAAC,eAAe,EAC5B,GAAG,EAAE,GAAG,EAAE,GAAG,GAAC,GAAG,EAAE,EAAE,GAAC,GAAG,CAAC,CAC7B;IACD,KAAK,iBAAiB;MAClB,OAAO,CACH,IAAIA,kBAAQ,CAAC,aAAa,EAC1B,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,EAEf,IAAIA,kBAAQ,CAAC,aAAa,EAC1B,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,EAEnB,IAAIA,kBAAQ,CAAC,iBAAiB,EAC9B,GAAG,EAAE,GAAG,EAAE,GAAG,GAAC,GAAG,EAAE,GAAG,GAAC,GAAG,CAAC;MAE3B;MACA;;MAEA,IAAIA,kBAAQ,CAAC,gBAAgB,EAC7B,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,EAEnB,IAAIA,kBAAQ,CAAC,YAAY,EACzB,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,CAAC,EAEhB,IAAIA,kBAAQ,CAAC,WAAW,EACxB,IAAI,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,EAElB,IAAIA,kBAAQ,CAAC,eAAe,EAC5B,GAAG,EAAE,GAAG,EAAE,GAAG,GAAC,GAAG,EAAE,EAAE,GAAC,GAAG,CAAC,EAE1B,IAAIA,kBAAQ,CAAC,cAAc,EAC3B,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE;;MAMd;MAAA,CACH;IACb,KAAK,UAAU;MACX,OAAO,CACH,IAAIA,kBAAQ,CAAC,SAAS,CAAC;MAAE;;MAEzB,IAAIA,kBAAQ,CAAC,WAAW,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,GAAC,GAAG,EAAE,MAAM,GAAC,GAAG,CAAC;MAAE;MACvD;;MAEJ,IAAIA,kBAAQ,CAAC,WAAW,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,GAAC,GAAG,EAAE,GAAG,GAAC,GAAG,CAAC;MAAE;MACnD,IAAIA,kBAAQ,CAAC,aAAa,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;MAAE;MACjD,IAAIA,kBAAQ,CAAC,oBAAoB,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC;MAAE;;MAE3D,IAAIA,kBAAQ,CAAC,WAAW,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;MAChD;MAAA,CAEH;IACD,KAAK,YAAY;MACb,OAAO,CACH,IAAIA,kBAAQ,CAAC,cAAc,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,EAC/C,IAAIA,kBAAQ,CAAC,WAAW,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,EAE3C,IAAIA,kBAAQ,CAAC,SAAS,CAAC;MAAE;MACzB,IAAIA,kBAAQ,CAAC,SAAS,CAAC,CAAC;MAAA,CAC3B;IAED,KAAK,YAAY;MACb,OAAO,CACH,IAAIA,kBAAQ,CAAC,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;MAAE;MAC1C,IAAIA,kBAAQ,CAAC,QAAQ,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;MAAE;;MAE5C,IAAIA,kBAAQ,CAAC,SAAS,CAAC,CAAC;MAAA,CAC3B;IACb;MACI,OAAO,EAAE;IAAE;EACnB;AACJ;AAAC,IAAAY,QAAA,GAAAxE,OAAA,CAAAC,OAAA,GAEcmE,SAAS;;;;;;;;;;;;;;ACpGxB;AACA,IAAMK,OAAO,GAAAzE,OAAA,CAAAyE,OAAA,GAAG,EAAE;AAClB,IAAMC,WAAW,GAAA1E,OAAA,CAAA0E,WAAA,GAAG/E,QAAQ,CAACgF,aAAa,CAAC,aAAa,CAAC;AAAC,IAErCC,MAAM,GAAA5E,OAAA,CAAAC,OAAA;EACvB,SAAA2E,OAAYlD,CAAC,EAAEC,CAAC,EAAEf,KAAK,EAAEiE,SAAS,EAAEC,QAAQ,EAAE;IAAA5E,eAAA,OAAA0E,MAAA;IAC1C,IAAI,CAACzE,OAAO,GAAGR,QAAQ,CAACS,aAAa,CAAC,KAAK,CAAC;IAC5C,IAAI,CAACD,OAAO,CAAC4E,SAAS,GAAG,QAAQ;IACjC,IAAI,CAACrD,CAAC,GAAGA,CAAC;IACV,IAAI,CAACC,CAAC,GAAGA,CAAC;IACV,IAAI,CAACf,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACiE,SAAS,GAAGA,SAAS;IAC1B,IAAI,CAACC,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACE,QAAQ,GAAG,EAAE;IAElBrF,QAAQ,CAACC,IAAI,CAACqB,WAAW,CAAC,IAAI,CAACd,OAAO,CAAC;EAC3C;EAACmB,YAAA,CAAAsD,MAAA;IAAArD,GAAA;IAAAC,KAAA,EAED,SAAAmC,OAAA,EAAS;MACL,IAAI,CAACjC,CAAC,IAAI,IAAI,CAACd,KAAK,GAAG,IAAI,CAACiE,SAAS,CAACnD,CAAC;MACvC,IAAI,CAACC,CAAC,IAAI,IAAI,CAACf,KAAK,GAAG,IAAI,CAACiE,SAAS,CAAClD,CAAC;MACvC,IAAI,CAACxB,OAAO,CAACK,KAAK,CAAC6B,SAAS,gBAAAJ,MAAA,CAAgB,IAAI,CAACP,CAAC,UAAAO,MAAA,CAAO,IAAI,CAACN,CAAC,QAAK;MAEpE,IAAI,CAACmD,QAAQ,EAAE;MAEf,IAAI,IAAI,CAACA,QAAQ,IAAI,CAAC,EAAE;QACpB,IAAI,CAACG,MAAM,CAAC,CAAC;MACjB;IACJ;EAAC;IAAA1D,GAAA;IAAAC,KAAA,EAED,SAAAyD,OAAA,EAAS;MACL;MACA,IAAI,CAAC9E,OAAO,CAAC8E,MAAM,CAAC,CAAC;MACrB,IAAMC,KAAK,GAAGT,OAAO,CAACU,OAAO,CAAC,IAAI,CAAC;MACnC,IAAID,KAAK,KAAK,CAAC,CAAC,EAAE;QACdT,OAAO,CAACW,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;MAC5B;IACJ;EAAC;EAAA,OAAAN,MAAA;AAAA;;;;;;;;ACrCL,IAAAS,IAAA,GAAArB,sBAAA,CAAAC,OAAA;AACA,IAAAqB,iBAAA,GAAAtB,sBAAA,CAAAC,OAAA;AACA,IAAAsB,OAAA,GAAAtB,OAAA;AAAkD,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAjE,OAAA,EAAAiE,GAAA;AAAA,SAAAsB,QAAAC,CAAA,sCAAAD,OAAA,wBAAAE,MAAA,uBAAAA,MAAA,CAAAC,QAAA,aAAAF,CAAA,kBAAAA,CAAA,gBAAAA,CAAA,WAAAA,CAAA,yBAAAC,MAAA,IAAAD,CAAA,CAAAG,WAAA,KAAAF,MAAA,IAAAD,CAAA,KAAAC,MAAA,CAAAG,SAAA,qBAAAJ,CAAA,KAAAD,OAAA,CAAAC,CAAA;AAAA,SAAAK,2BAAAL,CAAA,EAAAM,cAAA,QAAAC,EAAA,UAAAN,MAAA,oBAAAD,CAAA,CAAAC,MAAA,CAAAC,QAAA,KAAAF,CAAA,qBAAAO,EAAA,QAAAC,KAAA,CAAAC,OAAA,CAAAT,CAAA,MAAAO,EAAA,GAAAG,2BAAA,CAAAV,CAAA,MAAAM,cAAA,IAAAN,CAAA,WAAAA,CAAA,CAAA3D,MAAA,qBAAAkE,EAAA,EAAAP,CAAA,GAAAO,EAAA,MAAAI,CAAA,UAAAC,CAAA,YAAAA,EAAA,eAAAC,CAAA,EAAAD,CAAA,EAAAE,CAAA,WAAAA,EAAA,QAAAH,CAAA,IAAAX,CAAA,CAAA3D,MAAA,WAAA0E,IAAA,mBAAAA,IAAA,SAAAhF,KAAA,EAAAiE,CAAA,CAAAW,CAAA,UAAAK,CAAA,WAAAA,EAAAC,EAAA,UAAAA,EAAA,KAAAC,CAAA,EAAAN,CAAA,gBAAAO,SAAA,iJAAAC,gBAAA,SAAAC,MAAA,UAAAC,GAAA,WAAAT,CAAA,WAAAA,EAAA,IAAAN,EAAA,GAAAA,EAAA,CAAAgB,IAAA,CAAAvB,CAAA,MAAAc,CAAA,WAAAA,EAAA,QAAAU,IAAA,GAAAjB,EAAA,CAAAkB,IAAA,IAAAL,gBAAA,GAAAI,IAAA,CAAAT,IAAA,SAAAS,IAAA,KAAAR,CAAA,WAAAA,EAAAU,GAAA,IAAAL,MAAA,SAAAC,GAAA,GAAAI,GAAA,KAAAR,CAAA,WAAAA,EAAA,eAAAE,gBAAA,IAAAb,EAAA,CAAAoB,MAAA,UAAApB,EAAA,CAAAoB,MAAA,oBAAAN,MAAA,QAAAC,GAAA;AAAA,SAAAZ,4BAAAV,CAAA,EAAA4B,MAAA,SAAA5B,CAAA,qBAAAA,CAAA,sBAAA6B,iBAAA,CAAA7B,CAAA,EAAA4B,MAAA,OAAAd,CAAA,GAAAgB,MAAA,CAAA1B,SAAA,CAAA2B,QAAA,CAAAR,IAAA,CAAAvB,CAAA,EAAAgC,KAAA,aAAAlB,CAAA,iBAAAd,CAAA,CAAAG,WAAA,EAAAW,CAAA,GAAAd,CAAA,CAAAG,WAAA,CAAA8B,IAAA,MAAAnB,CAAA,cAAAA,CAAA,mBAAAN,KAAA,CAAA0B,IAAA,CAAAlC,CAAA,OAAAc,CAAA,+DAAAqB,IAAA,CAAArB,CAAA,UAAAe,iBAAA,CAAA7B,CAAA,EAAA4B,MAAA;AAAA,SAAAC,kBAAAO,GAAA,EAAAC,GAAA,QAAAA,GAAA,YAAAA,GAAA,GAAAD,GAAA,CAAA/F,MAAA,EAAAgG,GAAA,GAAAD,GAAA,CAAA/F,MAAA,WAAAsE,CAAA,MAAA2B,IAAA,OAAA9B,KAAA,CAAA6B,GAAA,GAAA1B,CAAA,GAAA0B,GAAA,EAAA1B,CAAA,IAAA2B,IAAA,CAAA3B,CAAA,IAAAyB,GAAA,CAAAzB,CAAA,UAAA2B,IAAA;AAAA,SAAA7H,gBAAA8H,QAAA,EAAAC,WAAA,UAAAD,QAAA,YAAAC,WAAA,eAAArB,SAAA;AAAA,SAAAsB,kBAAAC,MAAA,EAAAC,KAAA,aAAAhC,CAAA,MAAAA,CAAA,GAAAgC,KAAA,CAAAtG,MAAA,EAAAsE,CAAA,UAAAiC,UAAA,GAAAD,KAAA,CAAAhC,CAAA,GAAAiC,UAAA,CAAAC,UAAA,GAAAD,UAAA,CAAAC,UAAA,WAAAD,UAAA,CAAAE,YAAA,wBAAAF,UAAA,EAAAA,UAAA,CAAAG,QAAA,SAAAjB,MAAA,CAAAkB,cAAA,CAAAN,MAAA,EAAAO,cAAA,CAAAL,UAAA,CAAA9G,GAAA,GAAA8G,UAAA;AAAA,SAAA/G,aAAA2G,WAAA,EAAAU,UAAA,EAAAC,WAAA,QAAAD,UAAA,EAAAT,iBAAA,CAAAD,WAAA,CAAApC,SAAA,EAAA8C,UAAA,OAAAC,WAAA,EAAAV,iBAAA,CAAAD,WAAA,EAAAW,WAAA,GAAArB,MAAA,CAAAkB,cAAA,CAAAR,WAAA,iBAAAO,QAAA,mBAAAP,WAAA;AAAA,SAAAS,eAAAG,CAAA,QAAAzC,CAAA,GAAA0C,YAAA,CAAAD,CAAA,gCAAArD,OAAA,CAAAY,CAAA,IAAAA,CAAA,GAAA2C,MAAA,CAAA3C,CAAA;AAAA,SAAA0C,aAAAD,CAAA,EAAAG,CAAA,oBAAAxD,OAAA,CAAAqD,CAAA,MAAAA,CAAA,SAAAA,CAAA,MAAApC,CAAA,GAAAoC,CAAA,CAAAnD,MAAA,CAAAuD,WAAA,kBAAAxC,CAAA,QAAAL,CAAA,GAAAK,CAAA,CAAAO,IAAA,CAAA6B,CAAA,EAAAG,CAAA,gCAAAxD,OAAA,CAAAY,CAAA,UAAAA,CAAA,YAAAQ,SAAA,yEAAAoC,CAAA,GAAAD,MAAA,GAAAG,MAAA,EAAAL,CAAA;AAClD;AACE;AACD;AACD;AAAA,IACqBM,MAAM,GAAAnJ,OAAA,CAAAC,OAAA;EACvB,SAAAkJ,OAAYzJ,WAAW,EAAE;IAAA,IAAA0J,KAAA;IAAAlJ,eAAA,OAAAiJ,MAAA;IACrB,IAAI,CAACE,GAAG,GAAG,IAAItJ,YAAG,CAAC,CAAC;IACpB,IAAI,CAACI,OAAO,GAAGR,QAAQ,CAAC4E,cAAc,CAAC,QAAQ,CAAC;IAChD;IACA,IAAI,CAAC8E,GAAG,CAAC5H,WAAW,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC;IAClC;IACA;IACA,IAAI,CAACC,CAAC,GAAG,CAAC;IACV,IAAI,CAACC,CAAC,GAAG,CAAC;IACV,IAAI,CAACf,KAAK,GAAG,EAAE;IACf,IAAI,CAAC0I,KAAK,GAAG,KAAK;IAClB,IAAI,CAACC,IAAI,GAAE,EAAE;IACb,IAAI,CAACC,WAAW,GAAG,CAAC;IACpB,IAAI,CAACC,UAAU,GAAG,EAAE;IACpB,IAAI,CAACC,WAAW,GAAG,KAAK;IACxB,IAAI,CAAC/F,MAAM,CAAC,CAAC;IACb,IAAI,CAACgG,oBAAoB,CAAC,CAAC;;IAInB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAER,IAAI,CAACC,yBAAyB,GAAG,YAAM;MACnC;MACA,IAAIR,KAAI,CAACS,OAAO,EAAE;QACd,IAAMC,OAAO,GAAGV,KAAI,CAACC,GAAG,CAAClJ,OAAO,CAAC2D,qBAAqB,CAAC,CAAC;QACxDsF,KAAI,CAAC1H,CAAC,GAAGoI,OAAO,CAAC9H,IAAI;QACrBoH,KAAI,CAACzH,CAAC,GAAGmI,OAAO,CAAC5H,GAAG;QACpBkH,KAAI,CAACzF,MAAM,CAAC,CAAC;MACjB;IACJ,CAAC;IACD;IACAhE,QAAQ,CAACuB,gBAAgB,CAAC,mBAAmB,EAAE,IAAI,CAAC0I,yBAAyB,CAAC;IAE9E,IAAI,CAACG,oBAAoB,GAAG,IAAI,CAAC,CAAC;IAC9BpK,QAAQ,CAACuB,gBAAgB,CAAC,SAAS,EAAE,UAACoB,KAAK,EAAK;MAC5C,IAAIA,KAAK,CAACf,GAAG,KAAK,GAAG,EAAE;QACnB6H,KAAI,CAACY,kBAAkB,CAAC,CAAC,CAAC,CAAC;QACD;MAC9B;IACJ,CAAC,CAAC;EAEV;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;EACA;;EAGI;EACD;EACD;EACD;EACD;EAAA1I,YAAA,CAAA6H,MAAA;IAAA5H,GAAA;IAAAC,KAAA,EAEA,SAAAyI,SAAA,EAAW;MACP;MACA,IAAI,CAACV,IAAI,IAAI,CAAC,CAAC,CAAC;MAChB,IAAI,CAAC3I,KAAK,IAAI,GAAG,CAAC,CAAC;;MAEnB;MACA,IAAI,CAACT,OAAO,CAACK,KAAK,CAACG,MAAM,MAAAsB,MAAA,CAAM,IAAI,CAACsH,IAAI,OAAI;MAC5C,IAAI,CAACpJ,OAAO,CAACK,KAAK,CAACE,KAAK,MAAAuB,MAAA,CAAM,IAAI,CAACsH,IAAI,OAAI;;MAE3C;IACJ;;IAEI;IACD;IACD;IACD;IACD;;IAEC;EAAA;IAAAhI,GAAA;IAAAC,KAAA,EACC,SAAAwI,mBAAA,EAAqB;MAAA,IAAAE,MAAA;MACnB;MACA,IAAI,CAACC,iBAAiB,CAAC,CAAC;;MAExB;MACA,IAAI,CAACJ,oBAAoB,GAAGK,WAAW,CAAC,YAAM;QAC1CF,MAAI,CAACG,UAAU,CAAC,CAAC;MACrB,CAAC,EAAE,GAAG,CAAC;;MAEP;MACAC,UAAU,CAAC,YAAM;QACbJ,MAAI,CAACC,iBAAiB,CAAC,CAAC;MAC5B,CAAC,EAAE,IAAI,CAAC;IACZ;;IAEA;EAAA;IAAA5I,GAAA;IAAAC,KAAA,EACA,SAAA2I,kBAAA,EAAoB;MAChBI,aAAa,CAAC,IAAI,CAACR,oBAAoB,CAAC;IAC5C;;IAEA;EAAA;IAAAxI,GAAA;IAAAC,KAAA,EACA,SAAA6I,WAAA,EAAa;MACT,IAAMG,KAAK,GAAG7K,QAAQ,CAACS,aAAa,CAAC,KAAK,CAAC;MAC3CoK,KAAK,CAACnK,SAAS,CAACC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;MAC9BkK,KAAK,CAAChK,KAAK,CAACC,QAAQ,GAAG,UAAU;MACjC+J,KAAK,CAAChK,KAAK,CAACE,KAAK,GAAG,KAAK;MACzB8J,KAAK,CAAChK,KAAK,CAACG,MAAM,GAAG,KAAK;MAC1B6J,KAAK,CAAChK,KAAK,CAACiK,eAAe,GAAG,OAAO;MACrCD,KAAK,CAAChK,KAAK,CAACwB,IAAI,MAAAC,MAAA,CAAM,IAAI,CAACP,CAAC,OAAI,CAAC,CAAC;MAClC8I,KAAK,CAAChK,KAAK,CAAC0B,GAAG,MAAAD,MAAA,CAAM,IAAI,CAACN,CAAC,OAAI,CAAC,CAAC;;MAE7B;MACR,IAAM+I,UAAU,GAAG,IAAI,CAACvK,OAAO,CAAC2D,qBAAqB,CAAC,CAAC;MACvD0G,KAAK,CAAChK,KAAK,CAACwB,IAAI,MAAAC,MAAA,CAAMyI,UAAU,CAAC1I,IAAI,OAAI;MACzCwI,KAAK,CAAChK,KAAK,CAAC0B,GAAG,MAAAD,MAAA,CAAMyI,UAAU,CAACxI,GAAG,OAAI;MAEnCvC,QAAQ,CAACC,IAAI,CAACqB,WAAW,CAACuJ,KAAK,CAAC;;MAEhC;MACAF,UAAU,CAAC,YAAM;QACbE,KAAK,CAACvF,MAAM,CAAC,CAAC;MAClB,CAAC,EAAE,IAAI,CAAC;IACZ;;IAEI;IACD;IACD;IACD;IACD;EAAA;IAAA1D,GAAA;IAAAC,KAAA,EAEA,SAAAmI,qBAAA,EAAuB;MACnBhK,QAAQ,CAAC4E,cAAc,CAAC,cAAc,CAAC,CAACoG,WAAW,GAAG,IAAI,CAACC,YAAY;IAC3E;EAAC;IAAArJ,GAAA;IAAAC,KAAA,EAED,SAAAqJ,YAAYvI,KAAK,EAAE;MAAA,IAAAwI,MAAA;MACf;MACA,IAAMC,MAAM,GAAGpL,QAAQ,CAACS,aAAa,CAAC,KAAK,CAAC;MAC5C2K,MAAM,CAAChG,SAAS,GAAG,QAAQ;MAC3BpF,QAAQ,CAACC,IAAI,CAACqB,WAAW,CAAC8J,MAAM,CAAC;MAEjC,IAAI,IAAI,CAACrB,WAAW,EAAE;QAClBsB,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC;QAC9BvG,mBAAW,CAAClE,KAAK,CAAC0K,OAAO,GAAC,OAAO;QACjC;MACJ;;MAEA;MACA,IAAI,CAAC1B,WAAW,EAAE;;MAEV;MACA,IAAI,IAAI,CAACA,WAAW,IAAI,IAAI,CAACC,UAAU,EAAE;QACrC,IAAI,CAAC0B,cAAc,CAAC,CAAC;MAEzB;;MAEA;MACA,IAAI,CAACP,YAAY,GAAG,IAAI,CAACnB,UAAU,GAAG,IAAI,CAACD,WAAW;MACtD,IAAI,CAACG,oBAAoB,CAAC,CAAC;;MAG3B;MACA,IAAMyB,cAAc,GAAG,SAAjBA,cAAcA,CAAI9I,KAAK,EAAK;QAC9B,IAAIA,KAAK,CAACf,GAAG,KAAK,GAAG,IAAIe,KAAK,CAACf,GAAG,KAAK,GAAG,EAAE;UAExCuJ,MAAI,CAACtB,WAAW,GAAG,CAAC,CAAC,CAAC;UACtBsB,MAAI,CAACpB,WAAW,GAAG,KAAK,CAAC,CAAC;UAC1B;UACA;UACA/J,QAAQ,CAAC0L,mBAAmB,CAAC,SAAS,EAAED,cAAc,CAAC;UACvD;AACxB;QACY;;QAEJ;QACAzL,QAAQ,CAACuB,gBAAgB,CAAC,SAAS,EAAEkK,cAAc,EAAE;UAAEE,IAAI,EAAE;QAAK,CAAC,CAAC;MACxE,CAAC;;MAGG;MACA,IAAMZ,UAAU,GAAG,IAAI,CAACvK,OAAO,CAAC2D,qBAAqB,CAAC,CAAC;MACvDiH,MAAM,CAACvK,KAAK,CAACwB,IAAI,MAAAC,MAAA,CAAMyI,UAAU,CAAC1I,IAAI,GAAG0I,UAAU,CAAChK,KAAK,GAAG,CAAC,OAAI;MACjEqK,MAAM,CAACvK,KAAK,CAAC0B,GAAG,MAAAD,MAAA,CAAMyI,UAAU,CAACxI,GAAG,GAAGwI,UAAU,CAAC/J,MAAM,GAAG,CAAC,OAAI;;MAEhE;MACR;MACA,IAAME,KAAK,GAAG+B,IAAI,CAAC2I,KAAK,CACpBjJ,KAAK,CAACkJ,OAAO,IAAId,UAAU,CAACxI,GAAG,GAAGwI,UAAU,CAAC/J,MAAM,GAAG,CAAC,CAAC,EACxD2B,KAAK,CAACmJ,OAAO,IAAIf,UAAU,CAAC1I,IAAI,GAAG0I,UAAU,CAAChK,KAAK,GAAG,CAAC,CAC3D,CAAC;MACO;MACA,IAAMgL,WAAW,GAAG,EAAE;;MAE9B;MACA,IAAMC,UAAU,GAAG,SAAbA,UAAUA,CAAA,EAAS;QACrB,IAAMC,UAAU,GAAGb,MAAM,CAACjH,qBAAqB,CAAC,CAAC;;QAEjD;QACA,IAAM+H,MAAM,GAAGvJ,KAAK,CAACmJ,OAAO,IAAIf,UAAU,CAAC1I,IAAI,GAAG0I,UAAU,CAAChK,KAAK,GAAG,CAAC,CAAC;QACvE,IAAMoL,MAAM,GAAGxJ,KAAK,CAACkJ,OAAO,IAAId,UAAU,CAACxI,GAAG,GAAGwI,UAAU,CAAC/J,MAAM,GAAG,CAAC,CAAC;;QAEvE;QACA,IAAMoL,QAAQ,GAAGnJ,IAAI,CAACoJ,IAAI,CAACH,MAAM,GAAGA,MAAM,GAAGC,MAAM,GAAGA,MAAM,CAAC;QAC7D,IAAMG,gBAAgB,GAAGJ,MAAM,GAAGE,QAAQ;QAC1C,IAAMG,gBAAgB,GAAGJ,MAAM,GAAGC,QAAQ;;QAE1C;QACAhB,MAAM,CAACvK,KAAK,CAACwB,IAAI,MAAAC,MAAA,CAAM2J,UAAU,CAAC5J,IAAI,GAAG0J,WAAW,GAAGO,gBAAgB,OAAI;QAC3ElB,MAAM,CAACvK,KAAK,CAAC0B,GAAG,MAAAD,MAAA,CAAM2J,UAAU,CAAC1J,GAAG,GAAGwJ,WAAW,GAAGQ,gBAAgB,OAAI;;QAEzE;QACA,IACIN,UAAU,CAAC5J,IAAI,GAAGuB,MAAM,CAACC,UAAU,IACnCoI,UAAU,CAACO,KAAK,GAAG,CAAC,IACpBP,UAAU,CAAC1J,GAAG,GAAGqB,MAAM,CAACG,WAAW,IACnCkI,UAAU,CAACQ,MAAM,GAAG,CAAC,EACvB;UACE;UACAC,qBAAqB,CAACV,UAAU,CAAC;QACrC,CAAC,MAAM;UACH;UACAZ,MAAM,CAAC9F,MAAM,CAAC,CAAC;QACnB;MACJ,CAAC;;MAED;MACAoH,qBAAqB,CAACV,UAAU,CAAC;IAC7B;EAAC;IAAApK,GAAA;IAAAC,KAAA,EAED,SAAA2J,eAAA,EAAiB;MAAA,IAAAmB,MAAA;MACb;MACA,IAAI,CAAC5C,WAAW,GAAG,IAAI;;MAEvB;MACA,IAAM0B,cAAc,GAAG,SAAjBA,cAAcA,CAAI9I,KAAK,EAAK;QAC9B,IAAIA,KAAK,CAACf,GAAG,KAAK,GAAG,IAAIe,KAAK,CAACf,GAAG,KAAK,GAAG,EAAE;UACxC;UACA+K,MAAI,CAAC9C,WAAW,GAAG,CAAC;UACpB8C,MAAI,CAAC5C,WAAW,GAAG,KAAK;;UAExB;UACA4C,MAAI,CAAC1B,YAAY,GAAG0B,MAAI,CAAC7C,UAAU,CAAC,CAAC;UACrC6C,MAAI,CAAC3C,oBAAoB,CAAC,CAAC;UAE3BqB,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC;UAC/CvG,mBAAW,CAAClE,KAAK,CAAC0K,OAAO,GAAC,MAAM;;UAEhC;UACAvL,QAAQ,CAAC0L,mBAAmB,CAAC,SAAS,EAAED,cAAc,CAAC;QAC3D;MACJ,CAAC;MAEDzL,QAAQ,CAACuB,gBAAgB,CAAC,SAAS,EAAEkK,cAAc,EAAE;QAAEE,IAAI,EAAE;MAAK,CAAC,CAAC;IACxE;EAAC;IAAA/J,GAAA;IAAAC,KAAA;IAEG;IACD;IACD;IACD;IACD;;IAEA,SAAA+K,UAAA,EAAY;MACR;MACA,IAAI,CAACjD,KAAK,GAAG,CAAC,IAAI,CAACA,KAAK;;MAExB;MACA,IAAI,IAAI,CAACA,KAAK,EAAE;QACZ0B,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;QAC/B;QACA,IAAI,CAAC9K,OAAO,CAACK,KAAK,CAAC0K,OAAO,GAAG,MAAM,CAAC,CAAE;MAC1C,CAAC,MAAM;QACHF,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC;QAC9B;QACA,IAAI,CAAC9K,OAAO,CAACK,KAAK,CAAC0K,OAAO,GAAG,OAAO,CAAC,CAAE;MAC3C;IAEJ;EAAC;IAAA3J,GAAA;IAAAC,KAAA,EAED,SAAAmC,OAAA,EAAS;MACL,IAAI,IAAI,CAAC2F,KAAK,EAAE;QACZ;QACA,IAAMQ,OAAO,GAAG,IAAI,CAACT,GAAG,CAAClJ,OAAO,CAAC2D,qBAAqB,CAAC,CAAC;QACxD,IAAI,CAACpC,CAAC,GAAGoI,OAAO,CAAC9H,IAAI;QACrB,IAAI,CAACL,CAAC,GAAGmI,OAAO,CAAC5H,GAAG;QACpB,IAAI,CAACmH,GAAG,CAAC1F,MAAM,CAAC,CAAC,CAAC,CAAC;MACvB;MAEA,IAAI,CAACxD,OAAO,CAACK,KAAK,CAAC6B,SAAS,gBAAAJ,MAAA,CAAgB,IAAI,CAACP,CAAC,UAAAO,MAAA,CAAO,IAAI,CAACN,CAAC,QAAK;IACxE;;IAEI;IACD;IACD;IACD;IACD;EAAA;IAAAJ,GAAA;IAAAC,KAAA,EAEC,SAAAkB,KAAK8J,UAAU,EAAEC,UAAU,EAAE;MAC1B,IAAI,IAAI,CAACnD,KAAK,EAAE;QACZ;QACA,IAAI,CAACD,GAAG,CAAC3G,IAAI,CAAC8J,UAAU,EAAEC,UAAU,CAAC;QACrC,IAAI,CAACpD,GAAG,CAAC1F,MAAM,CAAC,CAAC;MAErB,CAAC,MAAM;QACH;QACA,IAAI,CAACjC,CAAC,IAAI,IAAI,CAACd,KAAK,GAAG4L,UAAU;QACjC,IAAI,CAAC7K,CAAC,IAAI,IAAI,CAACf,KAAK,GAAG6L,UAAU;;QAEjC;QACA,IAAI,CAACC,cAAc,CAAC,CAAC;MACzB;;MAEA;MACA,IAAI,CAAC/I,MAAM,CAAC,CAAC;IACjB;EAAC;IAAApC,GAAA;IAAAC,KAAA,EAED,SAAAmL,eAAeC,UAAU,EAAE;MACvB,QAAQA,UAAU;QACd,KAAK,WAAW;UACZ5B,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;UAC/B,IAAI,CAAC4B,cAAc,CAAC,UAAU,CAAC;UAC/B;QACJ,KAAK,WAAW;UACZ7B,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;UAClC,IAAI,CAAC4B,cAAc,CAAC,mBAAmB,CAAC;UACxC;QACJ,KAAK,WAAW;UACZ7B,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;UACpC,IAAI,CAAC4B,cAAc,CAAC,kBAAkB,CAAC;UACvC;QACJ,KAAK,MAAM;UACP7B,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAC;UAC3C,IAAI,CAAC4B,cAAc,CAAC,kBAAkB,CAAC;UACvC;QACJ,KAAK,UAAU;QACf,KAAK,aAAa;UACd7B,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;UAClC,IAAI,CAAC4B,cAAc,CAAC,kBAAkB,CAAC;UACvC;QACJ,KAAK,iBAAiB;UAClB7B,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;UACjC,IAAI,CAAC4B,cAAc,CAAC,+BAA+B,CAAC;UACpD;QACJ,KAAK,aAAa;UACd7B,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;UACjC,IAAI,CAAC4B,cAAc,CAAC,8BAA8B,CAAC;UACnD;QACJ,KAAK,gBAAgB;UACjB7B,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;UACjC,IAAI,CAAC4B,cAAc,CAAC,2BAA2B,CAAC;UAChD;QACJ,KAAK,cAAc;UACf7B,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;UAC7B,IAAI,CAAC4B,cAAc,CAAC,2BAA2B,CAAC;UAChD;QACJ,KAAK,SAAS;UACV7B,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC;UACzB,IAAI,CAAC4B,cAAc,CAAC,iBAAiB,CAAC;UACtC;QACJ,KAAK,SAAS;UACV7B,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC;UACzB,IAAI,CAAC4B,cAAc,CAAC,eAAe,CAAC;UACpC;QACJ,KAAK,SAAS;QACd,KAAK,SAAS;UACV7B,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC;UACzB,IAAI,CAAC4B,cAAc,CAAC,iBAAiB,CAAC;UACtC;QACJ;UACI7B,OAAO,CAACC,GAAG,wBAAAhJ,MAAA,CAAwB2K,UAAU,CAAE,CAAC;UAChD;MACR;IACJ;EAAC;IAAArL,GAAA;IAAAC,KAAA,EAED,SAAAqL,eAAeC,QAAQ,EAAE;MACrBvJ,MAAM,CAACwJ,QAAQ,CAACC,IAAI,GAAGF,QAAQ;IACnC;;IAIM;IACD;IACD;IACD;IACD;IACD;EAAA;IAAAvL,GAAA;IAAAC,KAAA,EAED,SAAAkL,eAAA,EAAiB;MAEb;MACA,IAAMhC,UAAU,GAAG,IAAI,CAACvK,OAAO,CAAC2D,qBAAqB,CAAC,CAAC;;MAEvD;MAAA,IAAAmJ,SAAA,GAAAnH,0BAAA,CACuB1B,yBAAS;QAAA8I,KAAA;MAAA;QAAhC,KAAAD,SAAA,CAAA3G,CAAA,MAAA4G,KAAA,GAAAD,SAAA,CAAA1G,CAAA,IAAAC,IAAA,GAAkC;UAAA,IAAvB2G,QAAQ,GAAAD,KAAA,CAAA1L,KAAA;UACf;UACA,IAAM4L,YAAY,GAAGD,QAAQ,CAACrJ,qBAAqB,CAAC,CAAC;UAErD,IACI4G,UAAU,CAAC1I,IAAI,GAAGoL,YAAY,CAACjB,KAAK,IACpCzB,UAAU,CAACyB,KAAK,GAAGiB,YAAY,CAACpL,IAAI,IACpC0I,UAAU,CAACxI,GAAG,GAAGkL,YAAY,CAAChB,MAAM,IACpC1B,UAAU,CAAC0B,MAAM,GAAGgB,YAAY,CAAClL,GAAG,EACtC;YAEE;YACA,IAAIiL,QAAQ,CAAC5M,EAAE,KAAK,WAAW,EAAE;cAAC,IAAI,CAACoM,cAAc,CAACQ,QAAQ,CAAC5M,EAAE,CAAC;YAAC,CAAC,CAAC;;YAErE;YACA,IAAI4M,QAAQ,CAAC5M,EAAE,KAAK,WAAW,EAAE;cAAC,IAAI,CAACoM,cAAc,CAACQ,QAAQ,CAAC5M,EAAE,CAAC;YAAC,CAAC,CAAC;YACrE,IAAI4M,QAAQ,CAAC5M,EAAE,KAAK,UAAU,EAAE;cAAC,IAAI,CAACoM,cAAc,CAACQ,QAAQ,CAAC5M,EAAE,CAAC;YAAC,CAAC,CAAC;YACpE,IAAI4M,QAAQ,CAAC5M,EAAE,KAAK,WAAW,EAAE;cAAC,IAAI,CAACoM,cAAc,CAACQ,QAAQ,CAAC5M,EAAE,CAAC;YAAC,CAAC,CAAC;YACrE,IAAI4M,QAAQ,CAAC5M,EAAE,KAAK,aAAa,EAAE;cAAC,IAAI,CAACoM,cAAc,CAACQ,QAAQ,CAAC5M,EAAE,CAAC;YAAC,CAAC,CAAC;YACvE,IAAI4M,QAAQ,CAAC5M,EAAE,KAAK,iBAAiB,EAAE;cAAC,IAAI,CAACoM,cAAc,CAACQ,QAAQ,CAAC5M,EAAE,CAAC;YAAC,CAAC,CAAC;YAC3E,IAAI4M,QAAQ,CAAC5M,EAAE,KAAK,cAAc,EAAE;cAAC,IAAI,CAACoM,cAAc,CAACQ,QAAQ,CAAC5M,EAAE,CAAC;YAAC,CAAC,CAAC;YACxE,IAAI4M,QAAQ,CAAC5M,EAAE,KAAK,aAAa,EAAE;cAAC,IAAI,CAACoM,cAAc,CAACQ,QAAQ,CAAC5M,EAAE,CAAC;YAAC,CAAC,CAAC;YACvE,IAAI4M,QAAQ,CAAC5M,EAAE,KAAK,gBAAgB,EAAE;cAAC,IAAI,CAACoM,cAAc,CAACQ,QAAQ,CAAC5M,EAAE,CAAC;YAAC,CAAC,CAAC;;YAE1E;YACA,IAAI4M,QAAQ,CAAC5M,EAAE,KAAK,SAAS,EAAE;cAAC,IAAI,CAACoM,cAAc,CAACQ,QAAQ,CAAC5M,EAAE,CAAC;YAAC,CAAC,CAAC;YACnE,IAAI4M,QAAQ,CAAC5M,EAAE,KAAK,SAAS,EAAE;cAAC,IAAI,CAACoM,cAAc,CAACQ,QAAQ,CAAC5M,EAAE,CAAC;YAAC,CAAC,CAAC;YACnE,IAAI4M,QAAQ,CAAC5M,EAAE,KAAK,SAAS,EAAE;cAAC,IAAI,CAACoM,cAAc,CAACQ,QAAQ,CAAC5M,EAAE,CAAC;YAAC,CAAC,CAAC;YACnE,IAAI4M,QAAQ,CAAC5M,EAAE,KAAK,SAAS,EAAE;cAAC,IAAI,CAACoM,cAAc,CAACQ,QAAQ,CAAC5M,EAAE,CAAC;YAAC,CAAC,CAAC;;YAInE;UACJ;QACJ;MAAC,SAAAwG,GAAA;QAAAkG,SAAA,CAAAxG,CAAA,CAAAM,GAAA;MAAA;QAAAkG,SAAA,CAAAtG,CAAA;MAAA;IACL;EAAC;EAAA,OAAAwC,MAAA;AAAA;;;;;;;;;;;;;;AC/bH;AACD;AACD;AAAA,IAEqBkE,KAAK,GAAArN,OAAA,CAAAC,OAAA;EACtB,SAAAoN,MAAA,EAAc;IAAAnN,eAAA,OAAAmN,KAAA;IACV,IAAI,CAAClN,OAAO,GAAGR,QAAQ,CAACS,aAAa,CAAC,KAAK,CAAC;IAC5C,IAAI,CAACD,OAAO,CAAC4E,SAAS,GAAG,OAAO;IAChC,IAAI,CAACrD,CAAC,GAAGkB,IAAI,CAAC0K,MAAM,CAAC,CAAC,GAAG/J,MAAM,CAACC,UAAU;IAC1C,IAAI,CAAC7B,CAAC,GAAGiB,IAAI,CAAC0K,MAAM,CAAC,CAAC,GAAG/J,MAAM,CAACG,WAAW;IAC3C,IAAI,CAAC9C,KAAK,GAAG,CAAC;IACd,IAAI,CAACiE,SAAS,GAAG;MAAEnD,CAAC,EAAE,CAAC;MAAEC,CAAC,EAAE;IAAE,CAAC;IAC/BhC,QAAQ,CAACC,IAAI,CAACqB,WAAW,CAAC,IAAI,CAACd,OAAO,CAAC;EAE3C;EAACmB,YAAA,CAAA+L,KAAA;IAAA9L,GAAA;IAAAC,KAAA,EACD,SAAA+L,KAAA,EAAO;MACH;MACA,IAAI,CAAC3M,KAAK,GAAC,CAAC;IAChB;EAAC;IAAAW,GAAA;IAAAC,KAAA,EACD,SAAAyD,OAAA,EAAS;MACL;MACA,IAAI,IAAI,CAAC9E,OAAO,IAAI,IAAI,CAACA,OAAO,CAACqN,UAAU,EAAE;QACzC,IAAI,CAACrN,OAAO,CAACqN,UAAU,CAACC,WAAW,CAAC,IAAI,CAACtN,OAAO,CAAC;MACrD;IACJ;EAAC;IAAAoB,GAAA;IAAAC,KAAA,EACD,SAAAmC,OAAA,EAAS;MACL;MACA,IAAIf,IAAI,CAAC0K,MAAM,CAAC,CAAC,GAAG,IAAI,EAAE;QACtB,IAAI,CAACzI,SAAS,CAACnD,CAAC,GAAGkB,IAAI,CAAC0K,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;MACnD;MACA,IAAI1K,IAAI,CAAC0K,MAAM,CAAC,CAAC,GAAG,IAAI,EAAE;QACtB,IAAI,CAACzI,SAAS,CAAClD,CAAC,GAAGiB,IAAI,CAAC0K,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;MACnD;MAEA,IAAI,CAAC5L,CAAC,IAAI,IAAI,CAACd,KAAK,GAAG,IAAI,CAACiE,SAAS,CAACnD,CAAC;MACvC,IAAI,CAACC,CAAC,IAAI,IAAI,CAACf,KAAK,GAAG,IAAI,CAACiE,SAAS,CAAClD,CAAC;;MAEvC;MACA,IAAI,IAAI,CAACD,CAAC,GAAG,CAAC,EAAE,IAAI,CAACA,CAAC,GAAG6B,MAAM,CAACC,UAAU;MAC1C,IAAI,IAAI,CAAC9B,CAAC,GAAG6B,MAAM,CAACC,UAAU,EAAE,IAAI,CAAC9B,CAAC,GAAG,CAAC;MAC1C,IAAI,IAAI,CAACC,CAAC,GAAG,CAAC,EAAE,IAAI,CAACA,CAAC,GAAG4B,MAAM,CAACG,WAAW;MAC3C,IAAI,IAAI,CAAC/B,CAAC,GAAG4B,MAAM,CAACG,WAAW,EAAE,IAAI,CAAC/B,CAAC,GAAG,CAAC;MAE3C,IAAI,CAACxB,OAAO,CAACK,KAAK,CAAC6B,SAAS,gBAAAJ,MAAA,CAAgB,IAAI,CAACP,CAAC,UAAAO,MAAA,CAAO,IAAI,CAACN,CAAC,QAAK;IACxE;EAAC;EAAA,OAAA0L,KAAA;AAAA;;;;;;;;AC5CL,IAAAhI,IAAA,GAAArB,sBAAA,CAAAC,OAAA;AAA2B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAjE,OAAA,EAAAiE,GAAA;AAAA,SAAAsB,QAAAC,CAAA,sCAAAD,OAAA,wBAAAE,MAAA,uBAAAA,MAAA,CAAAC,QAAA,aAAAF,CAAA,kBAAAA,CAAA,gBAAAA,CAAA,WAAAA,CAAA,yBAAAC,MAAA,IAAAD,CAAA,CAAAG,WAAA,KAAAF,MAAA,IAAAD,CAAA,KAAAC,MAAA,CAAAG,SAAA,qBAAAJ,CAAA,KAAAD,OAAA,CAAAC,CAAA;AAAA,SAAAvF,gBAAA8H,QAAA,EAAAC,WAAA,UAAAD,QAAA,YAAAC,WAAA,eAAArB,SAAA;AAAA,SAAAsB,kBAAAC,MAAA,EAAAC,KAAA,aAAAhC,CAAA,MAAAA,CAAA,GAAAgC,KAAA,CAAAtG,MAAA,EAAAsE,CAAA,UAAAiC,UAAA,GAAAD,KAAA,CAAAhC,CAAA,GAAAiC,UAAA,CAAAC,UAAA,GAAAD,UAAA,CAAAC,UAAA,WAAAD,UAAA,CAAAE,YAAA,wBAAAF,UAAA,EAAAA,UAAA,CAAAG,QAAA,SAAAjB,MAAA,CAAAkB,cAAA,CAAAN,MAAA,EAAAO,cAAA,CAAAL,UAAA,CAAA9G,GAAA,GAAA8G,UAAA;AAAA,SAAA/G,aAAA2G,WAAA,EAAAU,UAAA,EAAAC,WAAA,QAAAD,UAAA,EAAAT,iBAAA,CAAAD,WAAA,CAAApC,SAAA,EAAA8C,UAAA,OAAAC,WAAA,EAAAV,iBAAA,CAAAD,WAAA,EAAAW,WAAA,GAAArB,MAAA,CAAAkB,cAAA,CAAAR,WAAA,iBAAAO,QAAA,mBAAAP,WAAA;AAAA,SAAAS,eAAAG,CAAA,QAAAzC,CAAA,GAAA0C,YAAA,CAAAD,CAAA,gCAAArD,OAAA,CAAAY,CAAA,IAAAA,CAAA,GAAA2C,MAAA,CAAA3C,CAAA;AAAA,SAAA0C,aAAAD,CAAA,EAAAG,CAAA,oBAAAxD,OAAA,CAAAqD,CAAA,MAAAA,CAAA,SAAAA,CAAA,MAAApC,CAAA,GAAAoC,CAAA,CAAAnD,MAAA,CAAAuD,WAAA,kBAAAxC,CAAA,QAAAL,CAAA,GAAAK,CAAA,CAAAO,IAAA,CAAA6B,CAAA,EAAAG,CAAA,gCAAAxD,OAAA,CAAAY,CAAA,UAAAA,CAAA,YAAAQ,SAAA,yEAAAoC,CAAA,GAAAD,MAAA,GAAAG,MAAA,EAAAL,CAAA;AAAA,SAAA6E,WAAA7E,CAAA,EAAApD,CAAA,EAAAgB,CAAA,WAAAhB,CAAA,GAAAkI,eAAA,CAAAlI,CAAA,GAAAmI,0BAAA,CAAA/E,CAAA,EAAAgF,yBAAA,KAAAC,OAAA,CAAAC,SAAA,CAAAtI,CAAA,EAAAgB,CAAA,QAAAkH,eAAA,CAAA9E,CAAA,EAAAjD,WAAA,IAAAH,CAAA,CAAAuI,KAAA,CAAAnF,CAAA,EAAApC,CAAA;AAAA,SAAAmH,2BAAAK,IAAA,EAAAjH,IAAA,QAAAA,IAAA,KAAAxB,OAAA,CAAAwB,IAAA,yBAAAA,IAAA,2BAAAA,IAAA,aAAAA,IAAA,yBAAAJ,SAAA,uEAAAsH,sBAAA,CAAAD,IAAA;AAAA,SAAAC,uBAAAD,IAAA,QAAAA,IAAA,yBAAAE,cAAA,wEAAAF,IAAA;AAAA,SAAAJ,0BAAA,cAAAhF,CAAA,IAAAuF,OAAA,CAAAvI,SAAA,CAAAwI,OAAA,CAAArH,IAAA,CAAA8G,OAAA,CAAAC,SAAA,CAAAK,OAAA,iCAAAvF,CAAA,aAAAgF,yBAAA,YAAAA,0BAAA,aAAAhF,CAAA;AAAA,SAAA8E,gBAAAlI,CAAA,IAAAkI,eAAA,GAAApG,MAAA,CAAA+G,cAAA,GAAA/G,MAAA,CAAAgH,cAAA,CAAAnN,IAAA,cAAAuM,gBAAAlI,CAAA,WAAAA,CAAA,CAAA+I,SAAA,IAAAjH,MAAA,CAAAgH,cAAA,CAAA9I,CAAA,aAAAkI,eAAA,CAAAlI,CAAA;AAAA,SAAAgJ,UAAAC,QAAA,EAAAC,UAAA,eAAAA,UAAA,mBAAAA,UAAA,uBAAA/H,SAAA,0DAAA8H,QAAA,CAAA7I,SAAA,GAAA0B,MAAA,CAAAqH,MAAA,CAAAD,UAAA,IAAAA,UAAA,CAAA9I,SAAA,IAAAD,WAAA,IAAApE,KAAA,EAAAkN,QAAA,EAAAlG,QAAA,QAAAD,YAAA,aAAAhB,MAAA,CAAAkB,cAAA,CAAAiG,QAAA,iBAAAlG,QAAA,gBAAAmG,UAAA,EAAAE,eAAA,CAAAH,QAAA,EAAAC,UAAA;AAAA,SAAAE,gBAAApJ,CAAA,EAAAqJ,CAAA,IAAAD,eAAA,GAAAtH,MAAA,CAAA+G,cAAA,GAAA/G,MAAA,CAAA+G,cAAA,CAAAlN,IAAA,cAAAyN,gBAAApJ,CAAA,EAAAqJ,CAAA,IAAArJ,CAAA,CAAA+I,SAAA,GAAAM,CAAA,SAAArJ,CAAA,YAAAoJ,eAAA,CAAApJ,CAAA,EAAAqJ,CAAA;AAC3B,IAAMpP,WAAW,GAAGC,QAAQ,CAACC,IAAI,CAACC,OAAO,CAACC,IAAI;;AAE9C;AAAA,IAEqBiP,MAAM,GAAA/O,OAAA,CAAAC,OAAA,0BAAA+O,IAAA;EAAAP,SAAA,CAAAM,MAAA,EAAAC,IAAA;EACvB,SAAAD,OAAYE,QAAQ,EAAEC,QAAQ,EAAE;IAAA,IAAA9F,KAAA;IAAAlJ,eAAA,OAAA6O,MAAA;IAC5B3F,KAAA,GAAAsE,UAAA,OAAAqB,MAAA;IACA,IAAIrP,WAAW,KAAK,cAAc,IAAIA,WAAW,KAAK,iBAAiB,EAAE;MACrEsL,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAC;MAE3C7B,KAAA,CAAKxI,KAAK,GAAG,CAAC;MACdwI,KAAA,CAAKjJ,OAAO,CAACI,EAAE,GAAG,QAAQ;MAC1B6I,KAAA,CAAKjJ,OAAO,CAACK,KAAK,CAACwB,IAAI,MAAAC,MAAA,CAAMgN,QAAQ,OAAI;MACzC7F,KAAA,CAAKjJ,OAAO,CAACK,KAAK,CAAC0B,GAAG,MAAAD,MAAA,CAAMiN,QAAQ,OAAI;MACxC9F,KAAA,CAAKjJ,OAAO,CAACE,SAAS,CAACC,GAAG,CAAC,QAAQ,CAAC;IACxC,CAAC,MAAM;MACH;MACA8I,KAAA,CAAKjJ,OAAO,GAAG,IAAI;IACvB;IAAC,OAAAiJ,KAAA;EACL;EAAC9H,YAAA,CAAAyN,MAAA;IAAAxN,GAAA;IAAAC,KAAA,EAED,SAAA2N,iBAAA,EAAmB;MACf,IAAI,IAAI,CAAChP,OAAO,EAAE;QAAE;QAChB,OAAO,IAAI,CAACA,OAAO,CAAC2D,qBAAqB,CAAC,CAAC;MAC/C;MACA,OAAO,IAAI;IACf;;IAEA;EAAA;IAAAvC,GAAA;IAAAC,KAAA,EACA,SAAAmC,OAAA,EAAS;MACL,IAAI,IAAI,CAACxD,OAAO,EAAE;QAAE;QAChB;QACA,IAAM6C,IAAI,GAAG,IAAI,CAAC7C,OAAO,CAAC8C,UAAU,GAAG,IAAI,CAACrC,KAAK;;QAEjD;QACA,IAAIoC,IAAI,GAAG,IAAI,CAAC7C,OAAO,CAACmD,WAAW,IAAIC,MAAM,CAACC,UAAU,EAAE;UACtD,IAAI,CAACrD,OAAO,CAACK,KAAK,CAACwB,IAAI,MAAAC,MAAA,CAAMe,IAAI,OAAI;QACzC,CAAC,MAAM;UACH;UACA,IAAI,CAAC7C,OAAO,CAACK,KAAK,CAACwB,IAAI,QAAQ;QACnC;MACJ;IACJ;EAAC;EAAA,OAAA+M,MAAA;AAAA,EAtC+BhP,YAAG;;;;;;;;ACJvC,IAAAqP,QAAA,GAAApL,sBAAA,CAAAC,OAAA;AAAkC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAjE,OAAA,EAAAiE,GAAA;AAE3B,IAAMmL,YAAY,GAAArP,OAAA,CAAAqP,YAAA,GAAG,SAAfA,YAAYA,CAAIJ,QAAQ,EAAEC,QAAQ,EAAK;EAChD,OAAO,IAAIH,gBAAM,CAACE,QAAQ,EAAEC,QAAQ,CAAC;AACzC,CAAC;;;;;;;;;;;ACLD,IAAMI,WAAW,GAAAtP,OAAA,CAAAsP,WAAA,GAAG,CAAC,CAAC;AACtB;AACC;AACD;AACA;AACA,IAAMC,WAAW,GAAG,CAChB5P,QAAQ,CAAC4E,cAAc,CAAC,oBAAoB,CAAC,EAC7C5E,QAAQ,CAAC4E,cAAc,CAAC,oBAAoB,CAAC,EAC7C5E,QAAQ,CAAC4E,cAAc,CAAC,oBAAoB,CAAC,CAC9C;AAED,IAAMiL,aAAa,GAAG,CACpB7P,QAAQ,CAAC4E,cAAc,CAAC,sBAAsB,CAAC,EAC/C5E,QAAQ,CAAC4E,cAAc,CAAC,sBAAsB,CAAC,EAC/C5E,QAAQ,CAAC4E,cAAc,CAAC,sBAAsB,CAAC,CAChD;AAED,IAAMkL,aAAa,GAAG,CACpB9P,QAAQ,CAAC4E,cAAc,CAAC,sBAAsB,CAAC,EAC/C5E,QAAQ,CAAC4E,cAAc,CAAC,sBAAsB,CAAC,EAC/C5E,QAAQ,CAAC4E,cAAc,CAAC,sBAAsB,CAAC,CAChD;AAED,IAAMmL,cAAc,GAAG,CACrB/P,QAAQ,CAAC4E,cAAc,CAAC,uBAAuB,CAAC,EAChD5E,QAAQ,CAAC4E,cAAc,CAAC,uBAAuB,CAAC,EAChD5E,QAAQ,CAAC4E,cAAc,CAAC,uBAAuB,CAAC,CACjD;;AAED;AACA,IAAMoL,gBAAgB,GAAGhQ,QAAQ,CAAC4E,cAAc,CAAC,iBAAiB,CAAC;AAEnE,IAAIqL,aAAa,GAAG,CAACJ,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACxC,IAAIK,YAAY,GAAG,CAAC;AACpB,IAAIC,SAAS,GAAG,KAAK;AACrB,IAAIC,UAAU,GAAG,KAAK;AACtB,IAAIC,gBAAgB;AACpB,IAAIC,cAAc,GAAG,IAAI;AAEzB,IAAGA,cAAc,KAAG,IAAI,EAAC;EACvBC,YAAY,CAAC,CAAC;EACd;EACA,IAAIV,aAAa,CAAC,CAAC,CAAC,EAAE;IAClBA,aAAa,CAAC,CAAC,CAAC,CAAChP,KAAK,CAAC2P,OAAO,GAAG,CAAC;EACpC;AAAG;AAEP,SAASC,cAAcA,CAACC,MAAM,EAAE;EAC9BH,YAAY,CAAC,CAAC;EACdJ,SAAS,GAAG,IAAI;EAChBF,aAAa,GAAGS,MAAM;EACtBC,aAAa,CAAC,CAAC;AACjB;AAEA,SAASC,sBAAsBA,CAAA,EAAG;EAChCL,YAAY,CAAC,CAAC;EACdH,UAAU,GAAG,IAAI;EACjBH,aAAa,GAAG,CAACD,gBAAgB,CAAC;EAClCW,aAAa,CAAC,CAAC;AACjB;AAEA,SAASE,aAAaA,CAAA,EAAG;EACvBV,SAAS,GAAG,KAAK;EACjBC,UAAU,GAAG,KAAK;EAClBF,YAAY,GAAG,CAAC;EAChBY,YAAY,CAACT,gBAAgB,CAAC;AAChC;AAEA,SAASE,YAAYA,CAAA,EAAG;EACtB;EACA,IAAMQ,SAAS,MAAAzO,MAAA,CAAOsN,WAAW,EAAKC,aAAa,EAAKC,aAAa,EAAKC,cAAc,GAAEC,gBAAgB,EAAC;EAAC,IAAA1C,SAAA,GAAAnH,0BAAA,CACxF4K,SAAS;IAAAxD,KAAA;EAAA;IAA7B,KAAAD,SAAA,CAAA3G,CAAA,MAAA4G,KAAA,GAAAD,SAAA,CAAA1G,CAAA,IAAAC,IAAA,GAA+B;MAAA,IAApBmK,KAAK,GAAAzD,KAAA,CAAA1L,KAAA;MACd,IAAImP,KAAK,EAAE;QACTA,KAAK,CAACnQ,KAAK,CAAC2P,OAAO,GAAG,CAAC;MACzB;IACF;EAAC,SAAApJ,GAAA;IAAAkG,SAAA,CAAAxG,CAAA,CAAAM,GAAA;EAAA;IAAAkG,SAAA,CAAAtG,CAAA;EAAA;AACH;AAEA,SAAS2J,aAAaA,CAAA,EAAG;EACvB,IAAIR,SAAS,IAAIC,UAAU,EAAE;IAC3B,KAAK,IAAI3J,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGwJ,aAAa,CAAC9N,MAAM,EAAEsE,CAAC,EAAE,EAAE;MAC7C,IAAIwJ,aAAa,CAACxJ,CAAC,CAAC,EAAE;QACpBwJ,aAAa,CAACxJ,CAAC,CAAC,CAAC5F,KAAK,CAAC2P,OAAO,GAAG/J,CAAC,KAAKyJ,YAAY,GAAG,CAAC,GAAG,CAAC;MAC7D;IACF;IAEAA,YAAY,GAAG,CAACA,YAAY,GAAG,CAAC,IAAID,aAAa,CAAC9N,MAAM;;IAExD;IACAkO,gBAAgB,GAAG1F,UAAU,CAACgG,aAAa,EAAE,GAAG,CAAC,CAAC,CAAC;EACrD;AACF;;AAEA;AACA3Q,QAAQ,CAACuB,gBAAgB,CAAC,SAAS,EAAE,UAAUoB,KAAK,EAAE;EACpDgN,WAAW,CAAChN,KAAK,CAACf,GAAG,CAAC,GAAG,IAAI;EAE7B,QAAQe,KAAK,CAACf,GAAG;IACf,KAAK,SAAS;MACZyJ,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC;MACzBmF,cAAc,CAACb,WAAW,CAAC;MAC3B;IACF,KAAK,WAAW;MACdvE,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;MAC3BmF,cAAc,CAACZ,aAAa,CAAC;MAC7B;IACF,KAAK,WAAW;MACdxE,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;MAC3BmF,cAAc,CAACX,aAAa,CAAC;MAC7B;IACF,KAAK,YAAY;MACfzE,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;MAC5BmF,cAAc,CAACV,cAAc,CAAC;MAC9B;IACF,KAAK,OAAO;MAAE;MACZ1E,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;MACvBsF,sBAAsB,CAAC,CAAC;MACxB;EACJ;AACF,CAAC,CAAC;AAEF5Q,QAAQ,CAACuB,gBAAgB,CAAC,OAAO,EAAE,UAAUoB,KAAK,EAAE;EAClDgN,WAAW,CAAChN,KAAK,CAACf,GAAG,CAAC,GAAG,KAAK;EAE9B,IAAIe,KAAK,CAACf,GAAG,KAAK,SAAS,IAAIe,KAAK,CAACf,GAAG,KAAK,WAAW,IAAIe,KAAK,CAACf,GAAG,KAAK,WAAW,IAAIe,KAAK,CAACf,GAAG,KAAK,YAAY,EAAE;IACnHiP,aAAa,CAAC,CAAC;EACjB;AACF,CAAC,CAAC;;AC9HJ;AACA,IAAMI,iBAAiB,GAAGjR,QAAQ,CAAC4E,cAAc,CAAC,mBAAmB,CAAC;AACtE,IAAMsM,WAAW,GAAGlR,QAAQ,CAACmR,gBAAgB,CAAC,aAAa,CAAC;;AAE5D;AACA,IAAMC,YAAY,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;AAE5E,IAAIC,iBAAiB,GAAG,CAAC;;AAEzB;AACA,SAASC,iBAAiBA,CAAA,EAAG;EACzBJ,WAAW,CAACK,OAAO,CAAC,UAAAC,UAAU,EAAI;IAC9BA,UAAU,CAAC3Q,KAAK,CAAC4Q,IAAI,GAAGL,YAAY,CAACC,iBAAiB,CAAC;IACvD;EACJ,CAAC,CAAC;;EAEF;EACAA,iBAAiB,GAAG,CAACA,iBAAiB,GAAG,CAAC,IAAID,YAAY,CAACjP,MAAM;AACrE;;AAEA;AACA8O,iBAAiB,CAAC1P,gBAAgB,CAAC,OAAO,EAAE+P,iBAAiB,CAAC;;;;ACrB9D,IAAAI,OAAA,GAAArN,sBAAA,CAAAC,OAAA;AAIA,IAAAqN,MAAA,GAAAtN,sBAAA,CAAAC,OAAA;AAEA,IAAAmL,QAAA,GAAApL,sBAAA,CAAAC,OAAA;AACA,IAAAsN,gBAAA,GAAAtN,OAAA;AAEA,IAAAsB,OAAA,GAAAtB,OAAA;AACA,IAAAuN,kBAAA,GAAAvN,OAAA;AAEAA,OAAA;AAA6C,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAjE,OAAA,EAAAiE,GAAA;AAAA,SAAA4B,2BAAAL,CAAA,EAAAM,cAAA,QAAAC,EAAA,UAAAN,MAAA,oBAAAD,CAAA,CAAAC,MAAA,CAAAC,QAAA,KAAAF,CAAA,qBAAAO,EAAA,QAAAC,KAAA,CAAAC,OAAA,CAAAT,CAAA,MAAAO,EAAA,GAAAG,2BAAA,CAAAV,CAAA,MAAAM,cAAA,IAAAN,CAAA,WAAAA,CAAA,CAAA3D,MAAA,qBAAAkE,EAAA,EAAAP,CAAA,GAAAO,EAAA,MAAAI,CAAA,UAAAC,CAAA,YAAAA,EAAA,eAAAC,CAAA,EAAAD,CAAA,EAAAE,CAAA,WAAAA,EAAA,QAAAH,CAAA,IAAAX,CAAA,CAAA3D,MAAA,WAAA0E,IAAA,mBAAAA,IAAA,SAAAhF,KAAA,EAAAiE,CAAA,CAAAW,CAAA,UAAAK,CAAA,WAAAA,EAAAC,EAAA,UAAAA,EAAA,KAAAC,CAAA,EAAAN,CAAA,gBAAAO,SAAA,iJAAAC,gBAAA,SAAAC,MAAA,UAAAC,GAAA,WAAAT,CAAA,WAAAA,EAAA,IAAAN,EAAA,GAAAA,EAAA,CAAAgB,IAAA,CAAAvB,CAAA,MAAAc,CAAA,WAAAA,EAAA,QAAAU,IAAA,GAAAjB,EAAA,CAAAkB,IAAA,IAAAL,gBAAA,GAAAI,IAAA,CAAAT,IAAA,SAAAS,IAAA,KAAAR,CAAA,WAAAA,EAAAU,GAAA,IAAAL,MAAA,SAAAC,GAAA,GAAAI,GAAA,KAAAR,CAAA,WAAAA,EAAA,eAAAE,gBAAA,IAAAb,EAAA,CAAAoB,MAAA,UAAApB,EAAA,CAAAoB,MAAA,oBAAAN,MAAA,QAAAC,GAAA;AAAA,SAAAZ,4BAAAV,CAAA,EAAA4B,MAAA,SAAA5B,CAAA,qBAAAA,CAAA,sBAAA6B,iBAAA,CAAA7B,CAAA,EAAA4B,MAAA,OAAAd,CAAA,GAAAgB,MAAA,CAAA1B,SAAA,CAAA2B,QAAA,CAAAR,IAAA,CAAAvB,CAAA,EAAAgC,KAAA,aAAAlB,CAAA,iBAAAd,CAAA,CAAAG,WAAA,EAAAW,CAAA,GAAAd,CAAA,CAAAG,WAAA,CAAA8B,IAAA,MAAAnB,CAAA,cAAAA,CAAA,mBAAAN,KAAA,CAAA0B,IAAA,CAAAlC,CAAA,OAAAc,CAAA,+DAAAqB,IAAA,CAAArB,CAAA,UAAAe,iBAAA,CAAA7B,CAAA,EAAA4B,MAAA;AAAA,SAAAC,kBAAAO,GAAA,EAAAC,GAAA,QAAAA,GAAA,YAAAA,GAAA,GAAAD,GAAA,CAAA/F,MAAA,EAAAgG,GAAA,GAAAD,GAAA,CAAA/F,MAAA,WAAAsE,CAAA,MAAA2B,IAAA,OAAA9B,KAAA,CAAA6B,GAAA,GAAA1B,CAAA,GAAA0B,GAAA,EAAA1B,CAAA,IAAA2B,IAAA,CAAA3B,CAAA,IAAAyB,GAAA,CAAAzB,CAAA,UAAA2B,IAAA;AAAA,SAAA0J,eAAA/J,IAAA,cAAAd,SAAA,QAAAc,IAAA,yBAZD;AAC5C;AACA;AACA;AAC0C;AAC1C;AACuC;AAEvC;AAOE;AACD;AACD;;AAEA,IAAMhI,WAAW,GAAGC,QAAQ,CAACC,IAAI,CAACC,OAAO,CAACC,IAAI;AAC9C,IAAMwE,MAAM,GAAG,IAAI6E,eAAM,CAAC,CAAC;AAC3B,IAAMuI,cAAc,GAAG,EAAE;AACzB,IAAMC,cAAc,GAAG,CAAC;AACxB,IAAMC,YAAY,GAAG,IAAI7C,gBAAM,CAAC2C,cAAc,EAAEC,cAAc,CAAC;AAC/D,IAAIjS,WAAW,IAAI,cAAc,IAAIA,WAAW,IAAI,iBAAiB,EAAE;EACpD,IAAI,EAAA+R,cAAA,iBAAC,CAAC;AAEzB;AAEA,IAAMI,OAAO,GAAG,EAAE;;AAElB;AACA;AACA;;AAGE;AACD;AACD;;AAEA,IAAGnS,WAAW,IAAE,iBAAiB,EAAC;EAClC,KAAK,IAAI0G,CAAC,GAAG,CAAC,EAAEA,CAAC,GACb,EAAE,CAAC;EAAA,EACDA,CAAC,EAAE,EAAE;IACPyL,OAAO,CAACC,IAAI,CAAC,IAAIzE,cAAK,CAAC,CAAC,CAAC;EAC7B;AAAC,CAAC,MAAK,IAAG3N,WAAW,KAAG,cAAc,EAAC;EACnC,KAAK,IAAI0G,EAAC,GAAG,CAAC,EAAEA,EAAC,GACb,CAAC,CAAC;EAAA,EACAA,EAAC,EAAE,EAAE;IACPyL,OAAO,CAACC,IAAI,CAAC,IAAIzE,cAAK,CAAC,CAAC,CAAC;EACjC;AAAC,CAAC,MAAI;EACF,KAAK,IAAIjH,GAAC,GAAG,CAAC,EAAEA,GAAC,GACb,EAAE,CAAC;EAAA,EACDA,GAAC,EAAE,EAAE;IACPyL,OAAO,CAACC,IAAI,CAAC,IAAIzE,cAAK,CAAC,CAAC,CAAC;EAC7B;AACJ;;AAEE;AACD;AACD;;AAEA1N,QAAQ,CAACuB,gBAAgB,CAAC,SAAS,EAAE,UAACoB,KAAK,EAAK;EACzB,QAAQA,KAAK,CAACf,GAAG;IAChC,MAAK,SAAS,EAAC,GAAG;MACd+C,MAAM,CAAC5B,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MACpB;IACJ,MAAK,WAAW,EAAC,GAAG;MAChB4B,MAAM,CAAC5B,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACnB;IACJ,MAAK,WAAW,EAAC,GAAG;MAChB4B,MAAM,CAAC5B,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACpB;IACJ,MAAK,YAAY,EAAC,GAAG;MACjB4B,MAAM,CAAC5B,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACnB;IACY;IACA;IACA;IACA;IACA;IACI,KAAK,GAAG;MACJ;MACA4B,MAAM,CAACiI,SAAS,CAAC,CAAC;MAClB;EACZ;AACpB,CAAC,CAAC,CAAC,CAAC;;AAEJ5M,QAAQ,CAACuB,gBAAgB,CAAC,SAAS,EAAE,UAACoB,KAAK,EAAK;EAC5C;EACA,IAAIgC,MAAM,CAACgF,KAAK,EAAE;IACd,QAAQhH,KAAK,CAACf,GAAG;MACb,KAAK,WAAW;QACZ,IAAI+C,MAAM,CAAC+E,GAAG,CAAC9G,UAAU,EAAE;UACvB;UACA+B,MAAM,CAAC+E,GAAG,CAAClH,QAAQ,CAACmC,MAAM,CAAC+E,GAAG,CAACxI,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC;UAC5CyD,MAAM,CAAC+E,GAAG,CAAC9G,UAAU,GAAG,IAAI;QAChC,CAAC,MAAM;UACH;UACA+B,MAAM,CAAC+E,GAAG,CAAClH,QAAQ,CAACmC,MAAM,CAAC+E,GAAG,CAACxI,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC;QAChD;QACA;MACJ,KAAK,YAAY;QACb,IAAIyD,MAAM,CAAC+E,GAAG,CAAC9G,UAAU,EAAE;UACvB;UACA+B,MAAM,CAAC+E,GAAG,CAAClH,QAAQ,CAACmC,MAAM,CAAC+E,GAAG,CAACxI,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC;UAC5CyD,MAAM,CAAC+E,GAAG,CAAC9G,UAAU,GAAG,IAAI;QAChC,CAAC,MAAM;UACH;UACA+B,MAAM,CAAC+E,GAAG,CAAClH,QAAQ,CAACmC,MAAM,CAAC+E,GAAG,CAACxI,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC;QAChD;QACA;MAEJ,KAAK,GAAG;QACJ;QACAyD,MAAM,CAAC+E,GAAG,CAAC9G,UAAU,GAAG,IAAI;QAC5B;IACR;EACJ;AACJ,CAAC,CAAC;AAEF5C,QAAQ,CAACuB,gBAAgB,CAAC,OAAO,EAAE,UAACoB,KAAK,EAAK;EAC1C;EACA,IAAIgC,MAAM,CAACgF,KAAK,EAAE;IACd,QAAQhH,KAAK,CAACf,GAAG;MACb,KAAK,WAAW;MAChB,KAAK,YAAY;QACb;QACA+C,MAAM,CAAC+E,GAAG,CAAC9G,UAAU,GAAG,KAAK;QAC7B;MACJ,KAAK,GAAG;QACJ;QACA+B,MAAM,CAAC+E,GAAG,CAAC9G,UAAU,GAAG,KAAK;QAC7B;IACR;EACJ;AACJ,CAAC,CAAC;AAEF5C,QAAQ,CAACuB,gBAAgB,CAAC,SAAS,EAAE,UAACoB,KAAK,EAAK;EAChDgN,8BAAW,CAAChN,KAAK,CAACf,GAAG,CAAC,GAAG,IAAI;EAC7BwQ,oBAAoB,CAAC,CAAC;AACtB,CAAC,CAAC;AAEFpS,QAAQ,CAACuB,gBAAgB,CAAC,OAAO,EAAE,UAACoB,KAAK,EAAK;EAC9CgN,8BAAW,CAAChN,KAAK,CAACf,GAAG,CAAC,GAAG,KAAK;EAC9BwQ,oBAAoB,CAAC,CAAC;AACtB,CAAC,CAAC;;AAED;AACD;AACApS,QAAQ,CAACuB,gBAAgB,CAAC,WAAW,EAAE,UAACoB,KAAK,EAAK;EAC9CgC,MAAM,CAACuG,WAAW,CAACvI,KAAK,CAAC;EAEzB,IAAM0P,aAAa,GAAG5H,WAAW,CAAC,YAAM;IACxC9F,MAAM,CAACuG,WAAW,CAACvI,KAAK,CAAC;EACzB,CAAC,EAAC,EAAE,CAAC;;EAEL;EACA3C,QAAQ,CAACuB,gBAAgB,CAAC,SAAS,EAAE,YAAM;IAC3CqJ,aAAa,CAACyH,aAAa,CAAC;EAC5B,CAAC,EAAE;IAAE1G,IAAI,EAAE;EAAK,CAAC,CAAC;AAEtB,CAAC,CAAC;AAEF,SAASyG,oBAAoBA,CAAA,EAAG;EAC5B,IAAMvF,UAAU,GAAG,CAAC8C,8BAAW,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,CAAC,KAAKA,8BAAW,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;EAC5F,IAAM7C,UAAU,GAAG,CAAC6C,8BAAW,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,KAAKA,8BAAW,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;EACzFhL,MAAM,CAAC5B,IAAI,CAAC8J,UAAU,EAAEC,UAAU,CAAC;AACvC;AAAC,CAAC,CAAC;;AAIA;AACD;AACD;AACD;AACA;;AAEE;AACF,SAASwF,QAAQA,CAAA,EAAG;EAChB;EACA3N,MAAM,CAACX,MAAM,CAAC,CAAC;;EAEf;EACA,IAAIiO,YAAY,EAAE;IACdA,YAAY,CAACjO,MAAM,CAAC,CAAC;IACrBuO,4BAA4B,CAAC5N,MAAM,EAAEsN,YAAY,CAAC;EACtD;;EAEA;EACA,SAAAO,GAAA,MAAAC,QAAA,GAAoBP,OAAO,EAAAM,GAAA,GAAAC,QAAA,CAAAtQ,MAAA,EAAAqQ,GAAA,IAAE;IAAxB,IAAME,KAAK,GAAAD,QAAA,CAAAD,GAAA;IACZE,KAAK,CAAC1O,MAAM,CAAC,CAAC;EAClB;;EAEA;EAAA,IAAAsJ,SAAA,GAAAnH,0BAAA,CACqBrB,eAAO;IAAAyI,KAAA;EAAA;IAA5B,KAAAD,SAAA,CAAA3G,CAAA,MAAA4G,KAAA,GAAAD,SAAA,CAAA1G,CAAA,IAAAC,IAAA,GAA8B;MAAA,IAAnBuE,MAAM,GAAAmC,KAAA,CAAA1L,KAAA;MACbuJ,MAAM,CAACpH,MAAM,CAAC,CAAC;IACnB;;IAEA;EAAA,SAAAoD,GAAA;IAAAkG,SAAA,CAAAxG,CAAA,CAAAM,GAAA;EAAA;IAAAkG,SAAA,CAAAtG,CAAA;EAAA;EACA0F,qBAAqB,CAAC4F,QAAQ,CAAC;AACnC;;AAGA;AACAA,QAAQ,CAAC3N,MAAM,EAAEsN,YAAY,EAAEC,OAAO,EAAEpN,eAAO,CAAC;;AAGhD;AACA,SAASyN,4BAA4BA,CAAC5N,MAAM,EAAEsN,YAAY,EAAE;EACxD;EACI,OAAO,CAAC;;EAIZ,IAAMlH,UAAU,GAAGpG,MAAM,CAACnE,OAAO,CAAC2D,qBAAqB,CAAC,CAAC;EACzD,IAAMwO,UAAU,GAAGV,YAAY,CAACzR,OAAO,CAAC2D,qBAAqB,CAAC,CAAC;;EAG/D;EACA,IACI4G,UAAU,CAAC1I,IAAI,GAAGsQ,UAAU,CAACnG,KAAK,IAClCzB,UAAU,CAACyB,KAAK,GAAGmG,UAAU,CAACtQ,IAAI,IAClC0I,UAAU,CAACxI,GAAG,GAAGoQ,UAAU,CAAClG,MAAM,IAClC1B,UAAU,CAAC0B,MAAM,GAAGkG,UAAU,CAACpQ,GAAG,EACpC;IACE;IACA8I,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC;IAC5CsH,kBAAkB,CAACjO,MAAM,CAAC;EAC9B;AACJ;;AAGA;AACA,SAASkO,yBAAyBA,CAAClO,MAAM,EAAEuN,OAAO,EAAEpN,OAAO,EAAE;EACzD,KAAK,IAAI2B,GAAC,GAAG3B,OAAO,CAAC3C,MAAM,GAAG,CAAC,EAAEsE,GAAC,IAAI,CAAC,EAAEA,GAAC,EAAE,EAAE;IAC1C,IAAM2E,MAAM,GAAGtG,OAAO,CAAC2B,GAAC,CAAC;IACzB,IAAMwF,UAAU,GAAGb,MAAM,CAAC5K,OAAO,CAAC2D,qBAAqB,CAAC,CAAC;IAEzD,KAAK,IAAI2O,CAAC,GAAGZ,OAAO,CAAC/P,MAAM,GAAG,CAAC,EAAE2Q,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;MAC1C,IAAMJ,KAAK,GAAGR,OAAO,CAACY,CAAC,CAAC;MACxB,IAAMC,SAAS,GAAGL,KAAK,CAAClS,OAAO,CAAC2D,qBAAqB,CAAC,CAAC;MAEvD,IACI8H,UAAU,CAAC5J,IAAI,GAAG0Q,SAAS,CAACvG,KAAK,IACjCP,UAAU,CAACO,KAAK,GAAGuG,SAAS,CAAC1Q,IAAI,IACjC4J,UAAU,CAAC1J,GAAG,GAAGwQ,SAAS,CAACtG,MAAM,IACjCR,UAAU,CAACQ,MAAM,GAAGsG,SAAS,CAACxQ,GAAG,EACnC;QACE;QACAuC,OAAO,CAACW,MAAM,CAACgB,GAAC,EAAE,CAAC,CAAC;QACpBuM,QAAQ,CAACN,KAAK,EAAER,OAAO,CAAC;QACxB7G,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;QACpC,MAAM,CAAC;MACX;IACJ;EACJ;AACJ;;AAEA;AACA,SAAS2H,4BAA4BA,CAACtO,MAAM,EAAEsN,YAAY,EAAEC,OAAO,EAAE;EACjE,IAAM/H,OAAO,GAAGxF,MAAM,CAAC+E,GAAG,CAAClJ,OAAO,CAAC2D,qBAAqB,CAAC,CAAC;;EAE1D;EACA,IAAM+O,gBAAgB,GAAGjB,YAAY,CAACzR,OAAO,CAAC2D,qBAAqB,CAAC,CAAC;EACrE,IACIQ,MAAM,CAACgF,KAAK;EAAI;EAChBQ,OAAO,CAAC9H,IAAI,GAAG6Q,gBAAgB,CAAC1G,KAAK,IACrCrC,OAAO,CAACqC,KAAK,GAAG0G,gBAAgB,CAAC7Q,IAAI,IACrC8H,OAAO,CAAC5H,GAAG,GAAG2Q,gBAAgB,CAACzG,MAAM,IACrCtC,OAAO,CAACsC,MAAM,GAAGyG,gBAAgB,CAAC3Q,GAAG,EACvC;IACE;IACA;EAAA;;EAGJ;EACA,IAAIoC,MAAM,CAACgF,KAAK,EAAE;IAAA,IAAAwJ,UAAA,GAAAhN,0BAAA,CACM+L,OAAO;MAAAkB,MAAA;IAAA;MAA3B,KAAAD,UAAA,CAAAxM,CAAA,MAAAyM,MAAA,GAAAD,UAAA,CAAAvM,CAAA,IAAAC,IAAA,GAA6B;QAAA,IAAlB6L,KAAK,GAAAU,MAAA,CAAAvR,KAAA;QACZ,IAAMkR,SAAS,GAAGL,KAAK,CAAClS,OAAO,CAAC2D,qBAAqB,CAAC,CAAC;QAEvD,IACIgG,OAAO,CAAC9H,IAAI,GAAG0Q,SAAS,CAACvG,KAAK,IAC9BrC,OAAO,CAACqC,KAAK,GAAGuG,SAAS,CAAC1Q,IAAI,IAC9B8H,OAAO,CAAC5H,GAAG,GAAGwQ,SAAS,CAACtG,MAAM,IAC9BtC,OAAO,CAACsC,MAAM,GAAGsG,SAAS,CAACxQ,GAAG,EAChC;UACE;UACAmQ,KAAK,CAAC9E,IAAI,CAAC,CAAC,CAAC,CAAC;UACd8E,KAAK,CAAClS,OAAO,CAACE,SAAS,CAACC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;QACzC;MACJ;IAAC,SAAAyG,GAAA;MAAA+L,UAAA,CAAArM,CAAA,CAAAM,GAAA;IAAA;MAAA+L,UAAA,CAAAnM,CAAA;IAAA;EACL;AACJ;;AAGA;AACA,SAASgM,QAAQA,CAACN,KAAK,EAAER,OAAO,EAAE;EAC9B;EACAQ,KAAK,CAACW,MAAM,GAAG,CAACX,KAAK,CAACW,MAAM,IAAI,CAAC,IAAI,CAAC;;EAEtC;EACA,IAAIX,KAAK,CAACW,MAAM,IAAI,CAAC,EAAE;IACnBhI,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;IAChC;IACA4G,OAAO,CAACzM,MAAM,CAACyM,OAAO,CAAC1M,OAAO,CAACkN,KAAK,CAAC,EAAE,CAAC,CAAC;EAC7C;AACJ;;AAIA;AACA,SAASE,kBAAkBA,CAACjO,MAAM,EAAE;EAChCA,MAAM,CAAC5C,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;EAChB4C,MAAM,CAACnE,OAAO,CAACE,SAAS,CAACC,GAAG,CAAC,SAAS,CAAC;EACvC;;EAEA;EACAgK,UAAU,CAAC,YAAM;IACbhG,MAAM,CAACnE,OAAO,CAACE,SAAS,CAAC4E,MAAM,CAAC,SAAS,CAAC;EAC9C,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;AACb;;AAKA;AACA;;;ACvUA,IAAIgO,UAAU,GAAG,4BAA4B;AAE7C,IAAIC,SAAS,GAAGC,MAAM,CAACC,MAAM,CAACC,MAAM;AAEpC,SAASA,MAAMA,CAACC,UAAU,EAAE;EAC1BJ,SAAS,CAAClM,IAAI,CAAC,IAAI,EAAEsM,UAAU,CAAC;EAChC,IAAI,CAACC,GAAG,GAAG;IACTC,IAAI,EAAEL,MAAM,CAACC,MAAM,CAACK,OAAO;IAC3BC,gBAAgB,EAAE,EAAE;IACpBC,iBAAiB,EAAE,EAAE;IACrBC,MAAM,EAAE,SAAAA,CAAUC,EAAE,EAAE;MACpB,IAAI,CAACH,gBAAgB,CAAC5B,IAAI,CAAC+B,EAAE,IAAI,YAAY,CAAC,CAAC,CAAC;IAClD,CAAC;IACDC,OAAO,EAAE,SAAAA,CAAUD,EAAE,EAAE;MACrB,IAAI,CAACF,iBAAiB,CAAC7B,IAAI,CAAC+B,EAAE,CAAC;IACjC;EACF,CAAC;EAEDV,MAAM,CAACC,MAAM,CAACK,OAAO,GAAG,IAAI;AAC9B;AAEAN,MAAM,CAACC,MAAM,CAACC,MAAM,GAAGA,MAAM;AAC7B,IAAIU,aAAa,EAAEC,cAAc;AAEjC,IAAIC,MAAM,GAAGd,MAAM,CAACC,MAAM,CAACa,MAAM;AACjC,IAAI,CAAC,CAACA,MAAM,IAAI,CAACA,MAAM,CAACC,eAAe,KAAK,OAAOC,SAAS,KAAK,WAAW,EAAE;EAC5E,IAAIC,QAAQ,GAAG,MAA4BrH,QAAQ,CAACqH,QAAQ;EAC5D,IAAIC,QAAQ,GAAGtH,QAAQ,CAACsH,QAAQ,KAAK,QAAQ,GAAG,KAAK,GAAG,IAAI;EAC5D,IAAIC,EAAE,GAAG,IAAIH,SAAS,CAACE,QAAQ,GAAG,KAAK,GAAGD,QAAQ,GAAG,GAAG,UAAuB,GAAG,GAAG,CAAC;EACtFE,EAAE,CAACC,SAAS,GAAG,UAASjS,KAAK,EAAE;IAC7ByR,aAAa,GAAG,CAAC,CAAC;IAClBC,cAAc,GAAG,EAAE;IAEnB,IAAIR,IAAI,GAAGgB,IAAI,CAACC,KAAK,CAACnS,KAAK,CAACkR,IAAI,CAAC;IAEjC,IAAIA,IAAI,CAACkB,IAAI,KAAK,QAAQ,EAAE;MAC1B,IAAIC,OAAO,GAAG,KAAK;MACnBnB,IAAI,CAACoB,MAAM,CAAC1D,OAAO,CAAC,UAAS2D,KAAK,EAAE;QAClC,IAAI,CAACA,KAAK,CAACC,KAAK,EAAE;UAChB,IAAIC,SAAS,GAAGC,cAAc,CAACC,MAAM,CAACC,aAAa,EAAEL,KAAK,CAACtU,EAAE,CAAC;UAC9D,IAAIwU,SAAS,EAAE;YACbJ,OAAO,GAAG,IAAI;UAChB;QACF;MACF,CAAC,CAAC;;MAEF;MACAA,OAAO,GAAGA,OAAO,IAAInB,IAAI,CAACoB,MAAM,CAACO,KAAK,CAAC,UAASN,KAAK,EAAE;QACrD,OAAOA,KAAK,CAACH,IAAI,KAAK,KAAK,IAAIG,KAAK,CAACO,SAAS,CAACC,EAAE;MACnD,CAAC,CAAC;MAEF,IAAIV,OAAO,EAAE;QACX3J,OAAO,CAACsK,KAAK,CAAC,CAAC;QAEf9B,IAAI,CAACoB,MAAM,CAAC1D,OAAO,CAAC,UAAU2D,KAAK,EAAE;UACnCU,QAAQ,CAACN,MAAM,CAACC,aAAa,EAAEL,KAAK,CAAC;QACvC,CAAC,CAAC;QAEFb,cAAc,CAAC9C,OAAO,CAAC,UAAUsE,CAAC,EAAE;UAClCC,YAAY,CAACD,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1B,CAAC,CAAC;MACJ,CAAC,MAAM,IAAIzI,QAAQ,CAAC2I,MAAM,EAAE;QAAE;QAC5B3I,QAAQ,CAAC2I,MAAM,CAAC,CAAC;MACnB;IACF;IAEA,IAAIlC,IAAI,CAACkB,IAAI,KAAK,QAAQ,EAAE;MAC1BJ,EAAE,CAACqB,KAAK,CAAC,CAAC;MACVrB,EAAE,CAACsB,OAAO,GAAG,YAAY;QACvB7I,QAAQ,CAAC2I,MAAM,CAAC,CAAC;MACnB,CAAC;IACH;IAEA,IAAIlC,IAAI,CAACkB,IAAI,KAAK,gBAAgB,EAAE;MAClC1J,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC;MAExC4K,kBAAkB,CAAC,CAAC;IACtB;IAEA,IAAIrC,IAAI,CAACkB,IAAI,KAAK,OAAO,EAAE;MACzB1J,OAAO,CAAC8K,KAAK,CAAC,eAAe,GAAGtC,IAAI,CAACsC,KAAK,CAACC,OAAO,GAAG,IAAI,GAAGvC,IAAI,CAACsC,KAAK,CAACE,KAAK,CAAC;MAE7EH,kBAAkB,CAAC,CAAC;MAEpB,IAAIhS,OAAO,GAAGoS,kBAAkB,CAACzC,IAAI,CAAC;MACtC7T,QAAQ,CAACC,IAAI,CAACqB,WAAW,CAAC4C,OAAO,CAAC;IACpC;EACF,CAAC;AACH;AAEA,SAASgS,kBAAkBA,CAAA,EAAG;EAC5B,IAAIhS,OAAO,GAAGlE,QAAQ,CAAC4E,cAAc,CAAC0O,UAAU,CAAC;EACjD,IAAIpP,OAAO,EAAE;IACXA,OAAO,CAACoB,MAAM,CAAC,CAAC;EAClB;AACF;AAEA,SAASgR,kBAAkBA,CAACzC,IAAI,EAAE;EAChC,IAAI3P,OAAO,GAAGlE,QAAQ,CAACS,aAAa,CAAC,KAAK,CAAC;EAC3CyD,OAAO,CAACtD,EAAE,GAAG0S,UAAU;;EAEvB;EACA,IAAI8C,OAAO,GAAGpW,QAAQ,CAACS,aAAa,CAAC,KAAK,CAAC;EAC3C,IAAI8V,UAAU,GAAGvW,QAAQ,CAACS,aAAa,CAAC,KAAK,CAAC;EAC9C2V,OAAO,CAACI,SAAS,GAAG3C,IAAI,CAACsC,KAAK,CAACC,OAAO;EACtCG,UAAU,CAACC,SAAS,GAAG3C,IAAI,CAACsC,KAAK,CAACE,KAAK;EAEvCnS,OAAO,CAACuS,SAAS,GACf,wNAAwN,GACtN,mFAAmF,GACnF,yEAAyE,GACzE,qEAAqE,GAAGL,OAAO,CAACK,SAAS,GAAG,QAAQ,GACpG,OAAO,GAAGF,UAAU,CAACE,SAAS,GAAG,QAAQ,GAC3C,QACD;EAED,OAAOvS,OAAO;AAEhB;AAEA,SAASwS,UAAUA,CAACjD,MAAM,EAAE7S,EAAE,EAAE;EAC9B,IAAI+V,OAAO,GAAGlD,MAAM,CAACkD,OAAO;EAC5B,IAAI,CAACA,OAAO,EAAE;IACZ,OAAO,EAAE;EACX;EAEA,IAAIC,OAAO,GAAG,EAAE;EAChB,IAAIC,CAAC,EAAEC,CAAC,EAAEC,GAAG;EAEb,KAAKF,CAAC,IAAIF,OAAO,EAAE;IACjB,KAAKG,CAAC,IAAIH,OAAO,CAACE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACvBE,GAAG,GAAGJ,OAAO,CAACE,CAAC,CAAC,CAAC,CAAC,CAAC,CAACC,CAAC,CAAC;MACtB,IAAIC,GAAG,KAAKnW,EAAE,IAAK0F,KAAK,CAACC,OAAO,CAACwQ,GAAG,CAAC,IAAIA,GAAG,CAACA,GAAG,CAAC5U,MAAM,GAAG,CAAC,CAAC,KAAKvB,EAAG,EAAE;QACpEgW,OAAO,CAACzE,IAAI,CAAC0E,CAAC,CAAC;MACjB;IACF;EACF;EAEA,IAAIpD,MAAM,CAACa,MAAM,EAAE;IACjBsC,OAAO,GAAGA,OAAO,CAACtU,MAAM,CAACoU,UAAU,CAACjD,MAAM,CAACa,MAAM,EAAE1T,EAAE,CAAC,CAAC;EACzD;EAEA,OAAOgW,OAAO;AAChB;AAEA,SAAShB,QAAQA,CAACnC,MAAM,EAAEyB,KAAK,EAAE;EAC/B,IAAIyB,OAAO,GAAGlD,MAAM,CAACkD,OAAO;EAC5B,IAAI,CAACA,OAAO,EAAE;IACZ;EACF;EAEA,IAAIA,OAAO,CAACzB,KAAK,CAACtU,EAAE,CAAC,IAAI,CAAC6S,MAAM,CAACa,MAAM,EAAE;IACvC,IAAIJ,EAAE,GAAG,IAAI8C,QAAQ,CAAC,SAAS,EAAE,QAAQ,EAAE,SAAS,EAAE9B,KAAK,CAACO,SAAS,CAACC,EAAE,CAAC;IACzER,KAAK,CAACC,KAAK,GAAG,CAACwB,OAAO,CAACzB,KAAK,CAACtU,EAAE,CAAC;IAChC+V,OAAO,CAACzB,KAAK,CAACtU,EAAE,CAAC,GAAG,CAACsT,EAAE,EAAEgB,KAAK,CAAC+B,IAAI,CAAC;EACtC,CAAC,MAAM,IAAIxD,MAAM,CAACa,MAAM,EAAE;IACxBsB,QAAQ,CAACnC,MAAM,CAACa,MAAM,EAAEY,KAAK,CAAC;EAChC;AACF;AAEA,SAASG,cAAcA,CAAC5B,MAAM,EAAE7S,EAAE,EAAE;EAClC,IAAI+V,OAAO,GAAGlD,MAAM,CAACkD,OAAO;EAC5B,IAAI,CAACA,OAAO,EAAE;IACZ;EACF;EAEA,IAAI,CAACA,OAAO,CAAC/V,EAAE,CAAC,IAAI6S,MAAM,CAACa,MAAM,EAAE;IACjC,OAAOe,cAAc,CAAC5B,MAAM,CAACa,MAAM,EAAE1T,EAAE,CAAC;EAC1C;EAEA,IAAIwT,aAAa,CAACxT,EAAE,CAAC,EAAE;IACrB;EACF;EACAwT,aAAa,CAACxT,EAAE,CAAC,GAAG,IAAI;EAExB,IAAIsW,MAAM,GAAGzD,MAAM,CAAC0D,KAAK,CAACvW,EAAE,CAAC;EAE7ByT,cAAc,CAAClC,IAAI,CAAC,CAACsB,MAAM,EAAE7S,EAAE,CAAC,CAAC;EAEjC,IAAIsW,MAAM,IAAIA,MAAM,CAACtD,GAAG,IAAIsD,MAAM,CAACtD,GAAG,CAACG,gBAAgB,CAAC5R,MAAM,EAAE;IAC9D,OAAO,IAAI;EACb;EAEA,OAAOuU,UAAU,CAACpB,MAAM,CAACC,aAAa,EAAE3U,EAAE,CAAC,CAACwW,IAAI,CAAC,UAAUxW,EAAE,EAAE;IAC7D,OAAOyU,cAAc,CAACC,MAAM,CAACC,aAAa,EAAE3U,EAAE,CAAC;EACjD,CAAC,CAAC;AACJ;AAEA,SAASkV,YAAYA,CAACrC,MAAM,EAAE7S,EAAE,EAAE;EAChC,IAAIsW,MAAM,GAAGzD,MAAM,CAAC0D,KAAK,CAACvW,EAAE,CAAC;EAC7B6S,MAAM,CAACK,OAAO,GAAG,CAAC,CAAC;EACnB,IAAIoD,MAAM,EAAE;IACVA,MAAM,CAACtD,GAAG,CAACC,IAAI,GAAGJ,MAAM,CAACK,OAAO;EAClC;EAEA,IAAIoD,MAAM,IAAIA,MAAM,CAACtD,GAAG,IAAIsD,MAAM,CAACtD,GAAG,CAACI,iBAAiB,CAAC7R,MAAM,EAAE;IAC/D+U,MAAM,CAACtD,GAAG,CAACI,iBAAiB,CAACzC,OAAO,CAAC,UAAU8F,EAAE,EAAE;MACjDA,EAAE,CAAC5D,MAAM,CAACK,OAAO,CAAC;IACpB,CAAC,CAAC;EACJ;EAEA,OAAOL,MAAM,CAAC0D,KAAK,CAACvW,EAAE,CAAC;EACvB6S,MAAM,CAAC7S,EAAE,CAAC;EAEVsW,MAAM,GAAGzD,MAAM,CAAC0D,KAAK,CAACvW,EAAE,CAAC;EACzB,IAAIsW,MAAM,IAAIA,MAAM,CAACtD,GAAG,IAAIsD,MAAM,CAACtD,GAAG,CAACG,gBAAgB,CAAC5R,MAAM,EAAE;IAC9D+U,MAAM,CAACtD,GAAG,CAACG,gBAAgB,CAACxC,OAAO,CAAC,UAAU8F,EAAE,EAAE;MAChDA,EAAE,CAAC,CAAC;IACN,CAAC,CAAC;IACF,OAAO,IAAI;EACb;AACF","file":"gta.177ac387.js","sourceRoot":"../src","sourcesContent":["const currentPage = document.body.dataset.page;\n\nexport default class Car {\n    constructor() {\n        if (currentPage !== 'bar_interior' && currentPage !== 'casino_interior') {\n            this.element = document.createElement('div');\n            this.element.classList.add('car');\n            this.element.id = 'car';\n            this.element.style.position = 'absolute';\n            this.element.style.width = '150px';\n            this.element.style.height = '70px';\n            this.speed = 1.5;\n            this.angle = 0;  // Initial angle in radians\n            this.isDriftingLeft = false; // Flag to indicate if the car is drifting left\n            this.isDriftingRight = false; // Flag to indicate if the car is drifting right\n            this.currentArrowKey = null; // Currently pressed arrow key\n            document.body.appendChild(this.element);\n\n            // Event listeners for keydown and keyup events\n            document.addEventListener('keydown', this.handleKeyDown.bind(this));\n            document.addEventListener('keyup', this.handleKeyUp.bind(this));\n        }\n    }\n    \n\n    setPosition(x, y, spawnAngle = 0) {\n        if (this.element) { // Check if the element exists before setting its style\n            this.element.style.left = `${x}px`;\n            this.element.style.top = `${y}px`;\n            this.setAngle(spawnAngle);\n        }\n    }\n\n    setAngle(newAngle) {\n        if (this.element) { // Check if the element exists before setting its style\n            this.angle = newAngle;\n            this.element.style.transform = `rotate(${this.angle}deg)`;\n        }\n    }\n\n\nhandleKeyDown(event) {\n    switch (event.key) {\n        case ' ':\n            // Spacebar is pressed, enable drifting\n            this.isDrifting = true;\n            break;\n        case 'ArrowLeft':\n            // Turning left\n            this.isTurningLeft = true;\n            break;\n        case 'ArrowRight':\n            // Turning right\n            this.isTurningRight = true;\n            break;\n    }\n}\n\nhandleKeyUp(event) {\n    switch (event.key) {\n        case ' ':\n            // Spacebar is released, disable drifting\n            this.isDrifting = false;\n            break;\n        case 'ArrowLeft':\n            // Stop turning left\n            this.isTurningLeft = false;\n            break;\n        case 'ArrowRight':\n            // Stop turning right\n            this.isTurningRight = false;\n            break;\n    }\n}\n\nmove() {\n    // Convert angle to radians\n    const angleInRadians = this.angle * (Math.PI / 180);\n\n    // Calculate lateral movement based on angle for drifting effect\n    const lateralMovement = this.isDrifting ? 0.05 * (this.isTurningLeft ? -1 : 1) : 0;\n\n    // Gradually adjust the angle for drifting\n    const driftFactor = 25; // Adjust as needed\n    this.angle += lateralMovement * driftFactor;\n\n    // Calculate new position based on angle\n    const newX = this.element.offsetLeft + this.speed * Math.cos(angleInRadians);\n    const newY = this.element.offsetTop + this.speed * Math.sin(angleInRadians);\n\n    // Check if the new position is within the window boundaries\n    if (\n        newX >= 0 &&\n        newY >= 0 &&\n        newX + this.element.offsetWidth <= window.innerWidth &&\n        newY + this.element.offsetHeight <= window.innerHeight\n    ) {\n        this.element.style.left = `${newX}px`;\n        this.element.style.top = `${newY}px`;\n        this.element.style.transform = `rotate(${this.angle}deg)`;\n    }\n}\n\n\n    update() {\n        // Update the car's position based on its angle and drifting state\n        this.move();\n    }\n}\n","\n////\n //         Building               //\n//________________________________//\nexport default class Building {\n    constructor(id, x, y, width, height) {\n        this.id = id;\n        this.element = document.createElement('div');\n        this.element.classList.add('building');\n        this.element.id = id;\n        this.element.style.position = 'absolute';\n        this.element.style.left = `${x}px`;\n        this.element.style.top = `${y}px`;\n        this.element.style.width = `${width}px`;\n        this.element.style.height = `${height}px`;\n        // this.element.style.backgroundColor = 'brown';\n\n        this.overlay=document.createElement('div');\n        this.overlay.classList.add('overlay');\n\n        this.element.appendChild(this.overlay);\n        document.body.appendChild(this.element);\n    }\n\n    getBoundingClientRect() {\n        return this.element.getBoundingClientRect();\n    }\n}","import Building from '../class/buildings.js';\n\nconst currentPage = document.body.dataset.page;\nconst buildings = createBuildings(currentPage);\nconst player = document.getElementById('player'); // Assuming you have a player element with id 'player'\n\n//declare building size + locations here\nfunction createBuildings(page) {\n    switch (page) {\n        case 'home':\n            return [\n                new Building('building1', 100, 100, 100, 150),\n                new Building('building2', 300, 200, 120, 180)\n                // Add more buildings for the 'home' page as needed\n            ];\n            case 'bar_interior':\n                return [\n                    new Building('bar-door', 0, 300, 15, 80),\n                    new Building('pool-table',\n                    1000, 150, 250, 174),\n                    new Building('casino-chairs', \n                    850, 400, 106*1.9, 97*1.9),\n                    new Building('casino-chairs', \n                    550, 550, 106*1.9, 97*1.9),\n                    new Building('casino-chairs', \n                    550, 200, 106*1.9, 97*1.9),\n                    new Building('casino-chairs', \n                    250, 450, 106*1.9, 97*1.9),\n                ];\n                case 'casino_interior':\n                    return [\n                        new Building('casino-door', \n                        0, 300, 15, 80),\n\n                        new Building('poker-table', \n                        250, 120, 320, 174),\n\n                        new Building('blackjack-table', \n                        600, 300, 240*.75, 160*.75),\n\n                        // new Building('dice-table', \n                        // 300, 260, 120, 80),\n\n                        new Building('roulette-table', \n                        300, 520, 340, 174),\n\n                        new Building('casino-bar', \n                        810, 0, 450, 80),\n\n                        new Building('bar-right', \n                        1260, 0, 100, 100),\n\n                        new Building('casino-chairs', \n                        950, 400, 106*1.9, 97*1.9),\n\n                        new Building('slot-machine',\n                        650, 0, 80, 80),\n\n\n\n\n\n                        // Add more buildings for the 'home' page as needed\n                    ];\n        case 'interior':\n            return [\n                new Building('toll_1b'), //toll 1_b\n\n                new Building('building3', 180, 180, 77.3*2.5, 132.14*2.5), //gas\n                    // new Building('gas_dumpster', 160, 300, 50, 80), //\n\n                new Building('building4', 400, 180, 244*1.5, 206*1.5), //bar\n                    new Building('bar_parking', 740, 180, 120, 200), //bar\n                    new Building('bar_carpet_outside', 500, 160, 120, 20), //bar\n\n                new Building('building6', 1000, 500, 600, 1000) //casino\n                // new Building('building5', 1300, 180, 300, 200) //pot shop\n\n            ];\n            case 'interior_2':\n                return [\n                    new Building('casino_right', 0, 500, 600, 1000), \n                    new Building('pot_right', 0, 180, 300, 200), \n\n                    new Building('toll_2a'), // to T1B\n                    new Building('toll_2b') // to T3A\n                ];\n\n                case 'interior_3':\n                    return [\n                        new Building('home', 700, 200, 220, 320), //casino\n                        new Building('garden', 600, 200, 100, 320), //casino\n\n                        new Building('toll_3a') // to T2B\n                    ];\n        default:\n            return []; // Default to an empty array if no specific buildings are defined\n    }\n}\n\nexport default buildings;\n","// bullets.js\nconst bullets = [];\nconst reload_note = document.querySelector('.reloadText');\n\nexport default class Bullet {\n    constructor(x, y, speed, direction, lifespan) {\n        this.element = document.createElement('div');\n        this.element.className = 'bullet';\n        this.x = x;\n        this.y = y;\n        this.speed = speed;\n        this.direction = direction;\n        this.lifespan = lifespan;\n        this.fireRate = 20;\n\n        document.body.appendChild(this.element);\n    }\n\n    update() {\n        this.x += this.speed * this.direction.x;\n        this.y += this.speed * this.direction.y;\n        this.element.style.transform = `translate(${this.x}px, ${this.y}px)`;\n\n        this.lifespan--;\n\n        if (this.lifespan <= 0) {\n            this.remove();\n        }\n    }\n\n    remove() {\n        // Remove the bullet from the DOM and bullets array\n        this.element.remove();\n        const index = bullets.indexOf(this);\n        if (index !== -1) {\n            bullets.splice(index, 1);\n        }\n    }\n}\n\nexport { bullets, reload_note };","import Car from '../car/car.js';\nimport buildings from '../building/create_buildings.js';\nimport { reload_note } from '../combat/bullet.js';\n// import Enemy from './enemy.js';\n  ////\n //            Player              //\n//________________________________//\nexport default class Player {\n    constructor(currentPage) {\n        this.car = new Car();\n        this.element = document.getElementById('player');\n        // if(currentPage==='interior'){\n        this.car.setPosition(740, 240, 90);\n        // this.setPosition(100, 300);\n        // this.enemies = [];\n        this.x = 0;\n        this.y = 0;\n        this.speed = 10;\n        this.inCar = false;\n        this.size= 20;\n        this.bulletsShot = 0;\n        this.maxBullets = 50;\n        this.isReloading = false;\n        this.update();\n        this.updateBulletsDisplay();\n\n\n\n                // // Retrieve stored player position or set default position\n                // const storedPosition = localStorage.getItem('playerPosition');\n                // if (storedPosition) {\n                //     const playerPosition = JSON.parse(storedPosition);\n                //     this.spawn(playerPosition.x, playerPosition.y, playerPosition.angle);\n                // } else {\n                //     this.spawn(680, 240, 90); // Default spawn position\n                // }\n\n        this.carPositionChangeListener = () => {\n            // Update the player's position to match the car's position\n            if (this.isInCar) {\n                const carRect = this.car.element.getBoundingClientRect();\n                this.x = carRect.left;\n                this.y = carRect.top;\n                this.update();\n            }\n        };\n        //car position listener\n        document.addEventListener('carPositionChange', this.carPositionChangeListener);\n\n        this.pixelSpawnIntervalId = null; //for smoking joint (j)\n            document.addEventListener('keydown', (event) => {\n                if (event.key === 'j') {\n                    this.startPixelSpawning(); //start spawning pixels when user\n                                              //presses 'j'\n                }\n            });\n\n    } \n\n    // getPosition() {\n    //     return {\n    //         x: this.x,\n    //         y: this.y,\n    //         angle: this.angle\n    //     };\n    // }\n\n    // spawn(x, y, angle) {\n    //     this.x = x;\n    //     this.y = y;\n    //     this.angle = angle;\n\n    //     this.update();\n    // }\n\n    \n        //\\\\\n       //                         \\\\\n      //       Eat NPC Logic       \\\\\n     //                             \\\\\n    //_______________________________\\\\\n\n    eatEnemy() {\n        // Increase player's size and speed when an enemy is eaten\n        this.size += 5; //how much #player grows when 1 NPC is eaten\n        this.speed += 0.1; //how much speed is added when 1 NPC is eaten\n\n        //apply the size to the html elements\n        this.element.style.height = `${this.size}px`;\n        this.element.style.width = `${this.size}px`;\n\n        // console.log(`Player size: ${this.size}, Player speed: ${this.speed}`);\n    }\n\n        //\\\\\n       //                         \\\\\n      //        Smoke Joint        \\\\\n     //                             \\\\\n    //_______________________________\\\\\n\n     //start smoke spawn\n      startPixelSpawning() {\n        // Clear any existing interval\n        this.stopPixelSpawning();\n\n        // Set the interval to spawn pixels every 100 milliseconds (adjust as needed)\n        this.pixelSpawnIntervalId = setInterval(() => {\n            this.spawnPixel();\n        }, 100);\n\n        // Stop spawning pixels after 5 seconds (adjust as needed)\n        setTimeout(() => {\n            this.stopPixelSpawning();\n        }, 3500);\n    }\n\n    // stop smoke spawn\n    stopPixelSpawning() {\n        clearInterval(this.pixelSpawnIntervalId);\n    }\n\n    // spawn smoke\n    spawnPixel() {\n        const pixel = document.createElement('div');\n        pixel.classList.add('pixel'); // You can style this class in your CSS\n        pixel.style.position = 'absolute';\n        pixel.style.width = '5px';\n        pixel.style.height = '5px';\n        pixel.style.backgroundColor = 'white';\n        pixel.style.left = `${this.x}px`; // Adjust as needed\n        pixel.style.top = `${this.y}px`; // Adjust as needed\n\n            // Set the position relative to the player's current position\n    const playerRect = this.element.getBoundingClientRect();\n    pixel.style.left = `${playerRect.left}px`;\n    pixel.style.top = `${playerRect.top}px`;\n\n        document.body.appendChild(pixel);\n\n        // Remove the pixel after 1 second\n        setTimeout(() => {\n            pixel.remove();\n        }, 1000);\n    }\n\n        //\\\\\n       //                         \\\\\n      //       Gun + Bullets       \\\\\n     //                             \\\\\n    //_______________________________\\\\\n\n    updateBulletsDisplay() {\n        document.getElementById('bulletsCount').textContent = this.bulletsCount;\n    }\n\n    shootBullet(event) {\n        // Create a new bullet element\n        const bullet = document.createElement('div');\n        bullet.className = 'bullet';\n        document.body.appendChild(bullet);\n\n        if (this.isReloading) {\n            console.log('RELOAD YOUR GUN');\n            reload_note.style.display=\"block\";\n            return;\n        }\n    \n        //increment bullets shot (10 in a clip) set in player constructor\n        this.bulletsShot++;\n\n                // Check if the player needs to reload\n                if (this.bulletsShot >= this.maxBullets) {\n                    this.startReloading();\n\n                }\n                \n                // Update the bullets count and display\n                this.bulletsCount = this.maxBullets - this.bulletsShot;\n                this.updateBulletsDisplay();\n\n                \n                // Add an event listener for the \"R\" key to finish reloading\n                const reloadListener = (event) => {\n                    if (event.key === 'R' || event.key === 'r') {\n                    \n                        this.bulletsShot = 0; //reset bullet count on reload\n                        this.isReloading = false; //sets flag to false to finish reload\n                        // console.log('Reloaded');\n                        // Remove the event listener\n                        document.removeEventListener('keydown', reloadListener);\n                        /* The event listener is removed after reload, so player\n                        can't abuse it by spamming it/ holding it down        */\n            }\n        \n        // once:true makes the event only happen once, and then the listener is removed\n        document.addEventListener('keydown', reloadListener, { once: true });\n    }\n\n\n        // Set the initial position of the bullet to the middle of the player's div\n        const playerRect = this.element.getBoundingClientRect();\n        bullet.style.left = `${playerRect.left + playerRect.width / 2}px`;\n        bullet.style.top = `${playerRect.top + playerRect.height / 2}px`;\n    \n        // Calculate the angle between the player and the mouse click\n// Calculate the angle between the player and the mouse click\nconst angle = Math.atan2(\n    event.clientY - (playerRect.top + playerRect.height / 2),\n    event.clientX - (playerRect.left + playerRect.width / 2)\n);    \n        // Set the initial speed of the bullet\n        const bulletSpeed = 10;\n    \n// Move the bullet in the direction of the mouse click\nconst bulletMove = () => {\n    const bulletRect = bullet.getBoundingClientRect();\n\n    // Calculate the distance between the player's center and the mouse cursor\n    const deltaX = event.clientX - (playerRect.left + playerRect.width / 2);\n    const deltaY = event.clientY - (playerRect.top + playerRect.height / 2);\n\n    // Normalize the distance to get a unit vector\n    const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n    const normalizedDeltaX = deltaX / distance;\n    const normalizedDeltaY = deltaY / distance;\n\n    // Update bullet position based on normalized direction and speed\n    bullet.style.left = `${bulletRect.left + bulletSpeed * normalizedDeltaX}px`;\n    bullet.style.top = `${bulletRect.top + bulletSpeed * normalizedDeltaY}px`;\n\n    // Check if the bullet is still within the window\n    if (\n        bulletRect.left < window.innerWidth &&\n        bulletRect.right > 0 &&\n        bulletRect.top < window.innerHeight &&\n        bulletRect.bottom > 0\n    ) {\n        // Continue moving the bullet\n        requestAnimationFrame(bulletMove);\n    } else {\n        // Remove the bullet when it goes out of bounds\n        bullet.remove();\n    }\n};\n\n// Start moving the bullet\nrequestAnimationFrame(bulletMove);\n    };\n\n    startReloading() {\n        // Set isReloading to true\n        this.isReloading = true;\n    \n        // Add an event listener for the \"R\" key to finish reloading\n        const reloadListener = (event) => {\n            if (event.key === 'R' || event.key === 'r') {\n                // Reset bulletsShot count and set isReloading to false\n                this.bulletsShot = 0;\n                this.isReloading = false;\n    \n                // Reset bullets count to full and update display\n                this.bulletsCount = this.maxBullets; //this number is set in player constructor\n                this.updateBulletsDisplay();\n    \n                console.log('Reload complete. Ready to shoot!');\n                reload_note.style.display=\"none\";\n\n                // Remove the event listener\n                document.removeEventListener('keydown', reloadListener);\n            }\n        };\n    \n        document.addEventListener('keydown', reloadListener, { once: true });\n    };\n\n        //\\\\\n       //                       \\\\\n      //        Car Logic        \\\\\n     //                           \\\\\n    //_____________________________\\\\\n\n    toggleCar() {\n        // Toggle the inCar property\n        this.inCar = !this.inCar;\n\n        // Add logic here to handle the visual changes or other actions when entering/exiting the car\n        if (this.inCar) {\n            console.log('Entering the car');\n            // Add visual changes or other actions when entering the car\n            this.element.style.display = 'none';  // Hide the player when in the car\n        } else {\n            console.log('Exiting the car');\n            // Add visual changes or other actions when exiting the car\n            this.element.style.display = 'block';  // Show the player when exiting the car\n        }\n        \n    }\n    \n    update() {\n        if (this.inCar) {\n            // Update the player's position to match the car's position\n            const carRect = this.car.element.getBoundingClientRect();\n            this.x = carRect.left;\n            this.y = carRect.top;\n            this.car.update(); // Call the update method of the car\n        }\n\n        this.element.style.transform = `translate(${this.x}px, ${this.y}px)`;\n    }\n\n        //\\\\\n       //                       \\\\\n      //     Player Logic        \\\\\n     //                           \\\\\n    //_____________________________\\\\\n\n     move(directionX, directionY) {\n        if (this.inCar) {\n            // Move the car\n            this.car.move(directionX, directionY);\n            this.car.update();\n            \n        } else {\n            // Calculate the new position based on the direction\n            this.x += this.speed * directionX;\n            this.y += this.speed * directionY;\n    \n            // Check for collisions\n            this.checkCollision();\n        }\n    \n        // Update the player's position\n        this.update();\n    }\n\n    teleportToRoom(buildingId) {\n        switch (buildingId) {\n            case 'building4':\n                console.log('Entering the bar');\n                this.navigateToRoom('bar.html');\n                break;\n            case 'building6':\n                console.log('Entering the casino');\n                this.navigateToRoom('rooms/casino.html');\n                break;\n            case 'building2':\n                console.log('Teleporting to Room 2');\n                this.navigateToRoom('../interior.html');\n                break;\n            case 'door':\n                console.log('Teleporting through the door');\n                this.navigateToRoom('../interior.html');\n                break;\n            case 'bar-door':\n            case 'casino-door':\n                console.log('Teleporting outside');\n                this.navigateToRoom('../interior.html');\n                break;\n            case 'blackjack-table':\n                console.log('Starting Blackjack');\n                this.navigateToRoom('../rooms/games/blackjack.html');\n                break;\n            case 'poker-table':\n                console.log('Starting Blackjack');\n                this.navigateToRoom('../rooms/games/roulette.html');\n                break;\n            case 'roulette-table':\n                console.log('Starting Blackjack');\n                this.navigateToRoom('../rooms/games/poker.html');\n                break;\n            case 'slot-machine':\n                console.log('Starting Slots');\n                this.navigateToRoom('../rooms/games/slots.html');\n                break;\n            case 'toll_1b':\n                console.log('T1B -> T2A');\n                this.navigateToRoom('interior_2.html');\n                break;\n            case 'toll_2a':\n                console.log('T2A -> T1B');\n                this.navigateToRoom('interior.html');\n                break;\n            case 'toll_2b':\n            case 'toll_3a':\n                console.log('T2A -> T1B');\n                this.navigateToRoom('interior_3.html');\n                break;\n            default:\n                console.log(`Unknown buildingId: ${buildingId}`);\n                break;\n        }\n    }\n    \n    navigateToRoom(roomPath) {\n        window.location.href = roomPath;\n    }\n    \n\n\n          //\\\\\n         //                       \\\\\n        //   BUILDING COLLISION    \\\\\n       //   + set teleport in here  \\\\\n      //                             \\\\\n     //_______________________________\\\\\n\n    checkCollision() {\n\n        // define player collision box\n        const playerRect = this.element.getBoundingClientRect();\n\n        // buildings collision logic\n        for (const building of buildings) {\n            // define each building with a collision box\n            const buildingRect = building.getBoundingClientRect();\n            \n            if (\n                playerRect.left < buildingRect.right &&\n                playerRect.right > buildingRect.left &&\n                playerRect.top < buildingRect.bottom &&\n                playerRect.bottom > buildingRect.top\n            ) {\n\n                // Room 1\n                if (building.id === 'building2') {this.teleportToRoom(building.id);} // Room 2 enter\n\n                // Room 2\n                if (building.id === 'building4') {this.teleportToRoom(building.id);} //bar enter\n                if (building.id === 'bar-door') {this.teleportToRoom(building.id);} // bar exit\n                if (building.id === 'building6') {this.teleportToRoom(building.id);} // casino enter\n                if (building.id === 'casino-door') {this.teleportToRoom(building.id);} // casino exit\n                if (building.id === 'blackjack-table') {this.teleportToRoom(building.id);} // blackjack start\n                if (building.id === 'slot-machine') {this.teleportToRoom(building.id);} // blackjack start\n                if (building.id === 'poker-table') {this.teleportToRoom(building.id);} // blackjack start\n                if (building.id === 'roulette-table') {this.teleportToRoom(building.id);} // blackjack start\n\n                //toll ports\n                if (building.id === 'toll_1b') {this.teleportToRoom(building.id);} // blackjack start\n                if (building.id === 'toll_2a') {this.teleportToRoom(building.id);} // blackjack start\n                if (building.id === 'toll_2b') {this.teleportToRoom(building.id);} // blackjack start\n                if (building.id === 'toll_3a') {this.teleportToRoom(building.id);} // blackjack start\n\n\n\n                // console.log(`Player collided with building ${building.id}`);\n            }\n        }\n    }\n    \n    \n}\n\n","  ////\n //             Enemy              //\n//________________________________//\n\nexport default class Enemy {\n    constructor() {\n        this.element = document.createElement('div');\n        this.element.className = 'enemy';\n        this.x = Math.random() * window.innerWidth;\n        this.y = Math.random() * window.innerHeight;\n        this.speed = 1;\n        this.direction = { x: 1, y: 1 };\n        document.body.appendChild(this.element);\n\n    }\n    stop() {\n        //make them stop when yoy hit them with your car\n        this.speed=0;\n    }\n    remove() {\n        // Remove the enemy element from the DOM\n        if (this.element && this.element.parentNode) {\n            this.element.parentNode.removeChild(this.element);\n        }\n    }\n    update() {\n        // Move randomly\n        if (Math.random() < 0.02) {\n            this.direction.x = Math.random() > 0.3 ? 1 : -1;\n        }\n        if (Math.random() < 0.02) {\n            this.direction.y = Math.random() > 0.3 ? 1 : -1;\n        }\n\n        this.x += this.speed * this.direction.x;\n        this.y += this.speed * this.direction.y;\n\n        // Wrap around screen\n        if (this.x < 0) this.x = window.innerWidth;\n        if (this.x > window.innerWidth) this.x = 0;\n        if (this.y < 0) this.y = window.innerHeight;\n        if (this.y > window.innerHeight) this.y = 0;\n\n        this.element.style.transform = `translate(${this.x}px, ${this.y}px)`;\n    }\n}","import Car from './car.js';\nconst currentPage = document.body.dataset.page;\n\n// NPC CARS\n\nexport default class NpcCar extends Car {\n    constructor(initialX, initialY) {\n        super();\n        if (currentPage !== 'bar_interior' && currentPage !== 'casino_interior') {\n            console.log('constructor called in NpcCar');\n\n            this.speed = 2;\n            this.element.id = \"npcCar\";\n            this.element.style.left = `${initialX}px`;\n            this.element.style.top = `${initialY}px`;\n            this.element.classList.add('npcCar');\n        } else {\n            // If it's the wrong page, set the element to null to prevent further operations\n            this.element = null;\n        }\n    }\n\n    getCollisionRect() {\n        if (this.element) { // Ensure the element exists before getting its bounding box\n            return this.element.getBoundingClientRect();\n        }\n        return null;\n    }\n\n    // Override the update() method so the car moves forward\n    update() {\n        if (this.element) { // Ensure the element exists before updating its position\n            // Calculate new position based on the current angle\n            const newX = this.element.offsetLeft + this.speed;\n\n            // Check if the new position is within the window boundaries\n            if (newX + this.element.offsetWidth <= window.innerWidth) {\n                this.element.style.left = `${newX}px`;\n            } else {\n                // Reset position to the left of the screen when it goes off-screen\n                this.element.style.left = `0px`;\n            }\n        }\n    }\n}","\nimport NpcCar from './npc_car.js';\n\nexport const createNpcCar = (initialX, initialY) => {\n    return new NpcCar(initialX, initialY);\n};","const keysPressed = {};\n////\n //         ANIMATIONS            //\n//________________________________//\n// Define SVG frames for walking in different directions\nconst svgFramesUp = [\n    document.getElementById('mainPlayerWalkUpF1'),\n    document.getElementById('mainPlayerWalkUpF2'),\n    document.getElementById('mainPlayerWalkUpF3')\n  ];\n  \n  const svgFramesDown = [\n    document.getElementById('mainPlayerWalkDownF1'),\n    document.getElementById('mainPlayerWalkDownF2'),\n    document.getElementById('mainPlayerWalkDownF3')\n  ];\n  \n  const svgFramesLeft = [\n    document.getElementById('mainPlayerWalkLeftF1'),\n    document.getElementById('mainPlayerWalkLeftF2'),\n    document.getElementById('mainPlayerWalkLeftF3')\n  ];\n  \n  const svgFramesRight = [\n    document.getElementById('mainPlayerWalkRightF1'),\n    document.getElementById('mainPlayerWalkRightF2'),\n    document.getElementById('mainPlayerWalkRightF3')\n  ];\n  \n  // Define SVG frame for shooting\n  const svgFrameShooting = document.getElementById('mainPlayerShoot');\n  \n  let currentFrames = [svgFramesDown[0]]; // Initial direction frame (walking down)\n  let currentIndex = 0;\n  let isWalking = false;\n  let isShooting = false;\n  let animationTimeout;\n  let opacityTrigger = true;\n\n  if(opacityTrigger===true){\n    resetOpacity();\n    // Set the opacity of the first frame in playerWalkDown to 1\n    if (svgFramesDown[0]) {\n        svgFramesDown[0].style.opacity = 1;\n      }  }\n  \n  function startAnimation(frames) {\n    resetOpacity();\n    isWalking = true;\n    currentFrames = frames;\n    animateFrames();\n  }\n  \n  function startShootingAnimation() {\n    resetOpacity();\n    isShooting = true;\n    currentFrames = [svgFrameShooting];\n    animateFrames();\n  }\n  \n  function stopAnimation() {\n    isWalking = false;\n    isShooting = false;\n    currentIndex = 0;\n    clearTimeout(animationTimeout);\n  }\n  \n  function resetOpacity() {\n    // Reset the opacity for all frames\n    const allFrames = [...svgFramesUp, ...svgFramesDown, ...svgFramesLeft, ...svgFramesRight, svgFrameShooting];\n    for (const frame of allFrames) {\n      if (frame) {\n        frame.style.opacity = 0;\n      }\n    }\n  }\n  \n  function animateFrames() {\n    if (isWalking || isShooting) {\n      for (let i = 0; i < currentFrames.length; i++) {\n        if (currentFrames[i]) {\n          currentFrames[i].style.opacity = i === currentIndex ? 1 : 0;\n        }\n      }\n  \n      currentIndex = (currentIndex + 1) % currentFrames.length;\n  \n      // Adjust the delay (in milliseconds) to control the speed of the animation\n      animationTimeout = setTimeout(animateFrames, 500); // Example: 500ms delay\n    }\n  }\n  \n  // Your existing keydown and keyup event listeners...\n  document.addEventListener('keydown', function (event) {\n    keysPressed[event.key] = true;\n  \n    switch (event.key) {\n      case 'ArrowUp':\n        console.log('walking up');\n        startAnimation(svgFramesUp);\n        break;\n      case 'ArrowDown':\n        console.log('walking down');\n        startAnimation(svgFramesDown);\n        break;\n      case 'ArrowLeft':\n        console.log('walking left');\n        startAnimation(svgFramesLeft);\n        break;\n      case 'ArrowRight':\n        console.log('walking right');\n        startAnimation(svgFramesRight);\n        break;\n      case 'Space': // Assuming 'Space' key triggers shooting\n        console.log('shooting');\n        startShootingAnimation();\n        break;\n    }\n  });\n  \n  document.addEventListener('keyup', function (event) {\n    keysPressed[event.key] = false;\n  \n    if (event.key === 'ArrowUp' || event.key === 'ArrowDown' || event.key === 'ArrowLeft' || event.key === 'ArrowRight') {\n      stopAnimation();\n    }\n  });\n\n  export { keysPressed }","// Assuming you have a button with the id \"changeColorButton\"\nconst changeColorButton = document.getElementById('changeColorButton');\nconst playerHeads = document.querySelectorAll('.playerHead');\n\n// Array of color choices\nconst colorChoices = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff'];\n\nlet currentColorIndex = 0;\n\n// Function to change the color of player heads\nfunction changePlayerColor() {\n    playerHeads.forEach(playerHead => {\n        playerHead.style.fill = colorChoices[currentColorIndex];\n        // If you're using stroke color, you can set it like this: playerHead.style.stroke = colorChoices[currentColorIndex];\n    });\n\n    // Cycle to the next color\n    currentColorIndex = (currentColorIndex + 1) % colorChoices.length;\n}\n\n// Event listener for the button click\nchangeColorButton.addEventListener('click', changePlayerColor);","import Player from '../js/class/player.js'; // class\n// import Item from '../js/class/item.js'; // Make sure to include the correct path\n// import { checkPlayerCollisionsWithItems } from '../js/class/item.js'; // Make sure to include the correct path\n// import Car from './car/car.js'; // class\nimport Enemy from '../js/class/enemy.js'; // class\n// import Building from '../js/class/buildings.js'; //class\nimport NpcCar from './car/npc_car.js'; //class extends Car\nimport { createNpcCar } from './car/npc_car_manager.js';\n// import Bullet from './combat/bullet.js'; // class\nimport {bullets} from './combat/bullet.js';\nimport './animations/player_animations.js';\nimport { keysPressed } from './animations/player_animations.js';\nimport './animations/change_player_color.js';\n\n\n  ////\n //          Initialize            //\n//________________________________//\n\nconst currentPage = document.body.dataset.page;\nconst player = new Player();\nconst npcCarInitialX = 20;\nconst npcCarInitialY = 0;\nconst sundayDriver = new NpcCar(npcCarInitialX, npcCarInitialY);\nif (currentPage == 'bar_interior' && currentPage == 'casino_interior') {\n    sundayDriver = null; // Initialize to null\n\n}\n\nconst enemies = [];\n\n// const items = []; // Add this line to initialize the items array\n// const healthPotion = new Item(0, 0, 'bag of crack');\n// items.push(healthPotion);\n\n\n  ////\n //           Spawn NPC            //\n//________________________________//\n\nif(currentPage=='casino_interior'){\nfor (let i = 0; i < \n    10 //patrons will spawn in the casino\n    ; i++) {\n    enemies.push(new Enemy());\n}}else if(currentPage==='bar_interior'){\n    for (let i = 0; i < \n        5 //patrons will spawn in the bar\n        ; i++) {\n        enemies.push(new Enemy());\n}}else{\n    for (let i = 0; i < \n        12 //patrons will spawn in the outside portions\n        ; i++) {\n        enemies.push(new Enemy());\n    }\n}\n\n  ////\n //       Event Listeners          //\n//________________________________//\n\ndocument.addEventListener('keydown', (event) => {\n                       switch (event.key) {\n        case 'ArrowUp','w':\n            player.move(0, -1); // Move upwards\n            break;\n        case 'ArrowDown','s':\n            player.move(0, 1); // Move downwards\n            break;\n        case 'ArrowLeft','a':\n            player.move(-1, 0); // Move to the left\n            break;\n        case 'ArrowRight','d':\n            player.move(1, 0); // Move to the right\n            break;\n                        // case 'Space':\n                        //     // Create a bullet and add it to the bullets array\n                        //     const bullet = new Bullet(player.x, player.y, 1, { x: 0, y: 0 });\n                        //     bullets.push(bullet);\n                        //     break;\n                            case 'c':\n                                // Toggle between being in the car and on foot\n                                player.toggleCar();\n                                break;\n                    }\n}); // player car movement event listeners\n\ndocument.addEventListener('keydown', (event) => {\n    // Check if the player is in the car\n    if (player.inCar) {\n        switch (event.key) {\n            case 'ArrowLeft':\n                if (player.car.isDrifting) {\n                    // Drifting left: Adjust the angle and enable drifting\n                    player.car.setAngle(player.car.angle - 15); // Adjust the angle as needed\n                    player.car.isDrifting = true;\n                } else {\n                    // Turning left without drifting\n                    player.car.setAngle(player.car.angle - 15); // Adjust the angle as needed\n                }\n                break;\n            case 'ArrowRight':\n                if (player.car.isDrifting) {\n                    // Drifting right: Adjust the angle and enable drifting\n                    player.car.setAngle(player.car.angle + 15); // Adjust the angle as needed\n                    player.car.isDrifting = true;\n                } else {\n                    // Turning right without drifting\n                    player.car.setAngle(player.car.angle + 15); // Adjust the angle as needed\n                }\n                break;\n            \n            case ' ':\n                // Spacebar pressed: Enable drifting\n                player.car.isDrifting = true;\n                break;\n        }\n    }\n});\n\ndocument.addEventListener('keyup', (event) => {\n    // Check if the player is in the car\n    if (player.inCar) {\n        switch (event.key) {\n            case 'ArrowLeft':\n            case 'ArrowRight':\n                // Stop drifting when left or right key is released\n                player.car.isDrifting = false;\n                break;\n            case ' ':\n                // Spacebar released: Disable drifting\n                player.car.isDrifting = false;\n                break;\n        }\n    }\n});\n                \ndocument.addEventListener('keydown', (event) => {\nkeysPressed[event.key] = true;\nhandlePlayerMovement();\n});\n                \ndocument.addEventListener('keyup', (event) => {\nkeysPressed[event.key] = false;\nhandlePlayerMovement();\n});\n\n // Shooting Listeners\n//holding mouse down fires gun\ndocument.addEventListener('mousedown', (event) => {\n    player.shootBullet(event);\n    \n    const shootInterval = setInterval(() => {\n    player.shootBullet(event);\n    },30); \n                    \n    //when you release mouse, it clears the interval so it doesnt keep shooting\n    document.addEventListener('mouseup', () => {\n    clearInterval(shootInterval);\n    }, { once: true });\n    \n});\n\nfunction handlePlayerMovement() {\n    const directionX = (keysPressed['ArrowRight'] ? 1 : 0) + (keysPressed['ArrowLeft'] ? -1 : 0);\n    const directionY = (keysPressed['ArrowDown'] ? 1 : 0) + (keysPressed['ArrowUp'] ? -1 : 0);\n    player.move(directionX, directionY);\n}; // handle player movement\n\n\n\n   ////\n  //           Game Loop            //\n //________________________________//\n/* This is the main brain of the   /\n   the operations.               */\n\n  // Game Loop\nfunction gameLoop() {\n    // Update player\n    player.update();\n\n    // Update Sunday driver if it exists\n    if (sundayDriver) {\n        sundayDriver.update();\n        checkPlayerCollisionsWithCar(player, sundayDriver);\n    }\n\n    // Update enemies\n    for (const enemy of enemies) {\n        enemy.update();\n    }\n\n    // Update bullets\n    for (const bullet of bullets) {\n        bullet.update();\n    }\n\n    // Request the next animation frame\n    requestAnimationFrame(gameLoop);\n}\n\n\n// Call the gameLoop function to start the game loop\ngameLoop(player, sundayDriver, enemies, bullets);\n\n\n// player | enemy Car\nfunction checkPlayerCollisionsWithCar(player, sundayDriver) {\n    // Check if sundayDriver exists\n        return; // Exit the function if sundayDriver does not exist\n    \n\n\n    const playerRect = player.element.getBoundingClientRect();\n    const npcCarRect = sundayDriver.element.getBoundingClientRect();\n\n\n    // Check for collision\n    if (\n        playerRect.left < npcCarRect.right &&\n        playerRect.right > npcCarRect.left &&\n        playerRect.top < npcCarRect.bottom &&\n        playerRect.bottom > npcCarRect.top\n    ) {\n        // Collision occurred, implement your collision handling logic\n        console.log('Player has been hit by a car!');\n        handleCarCollision(player);\n    }\n}\n\n\n// handle enemy hits (from bullets)\nfunction checkCollisionWithEnemies(player, enemies, bullets) {\n    for (let i = bullets.length - 1; i >= 0; i--) {\n        const bullet = bullets[i];\n        const bulletRect = bullet.element.getBoundingClientRect();\n\n        for (let j = enemies.length - 1; j >= 0; j--) {\n            const enemy = enemies[j];\n            const enemyRect = enemy.element.getBoundingClientRect();\n\n            if (\n                bulletRect.left < enemyRect.right &&\n                bulletRect.right > enemyRect.left &&\n                bulletRect.top < enemyRect.bottom &&\n                bulletRect.bottom > enemyRect.top\n            ) {\n                // Bullet hit the enemy\n                bullets.splice(i, 1);\n                enemyHit(enemy, enemies);\n                console.log('Enemy hit by a bullet');\n                break; // Exit the inner loop once a collision is detected\n            }\n        }\n    }\n}\n\n// player's car | enemy\nfunction checkCarCollisionWithEnemies(player, sundayDriver, enemies) {\n    const carRect = player.car.element.getBoundingClientRect();\n\n    // Check collision with Sunday driver\n    const sundayDriverRect = sundayDriver.element.getBoundingClientRect();\n    if (\n        player.inCar && // Add this condition to check if the player is in the car\n        carRect.left < sundayDriverRect.right &&\n        carRect.right > sundayDriverRect.left &&\n        carRect.top < sundayDriverRect.bottom &&\n        carRect.bottom > sundayDriverRect.top\n    ) {\n        // Handle collision with Sunday driver, e.g., stop the car or remove the Sunday driver\n        // Example: sundayDriver.stop();\n    }\n\n    // Check collision with enemies if the player is in the car\n    if (player.inCar) {\n        for (const enemy of enemies) {\n            const enemyRect = enemy.element.getBoundingClientRect();\n\n            if (\n                carRect.left < enemyRect.right &&\n                carRect.right > enemyRect.left &&\n                carRect.top < enemyRect.bottom &&\n                carRect.bottom > enemyRect.top\n            ) {\n                // Handle collision with enemy only when the player is in the car\n                enemy.stop(); // Assuming you have a stop method in your Enemy class\n                enemy.element.classList.add('dead'); // Add the 'dead' class to the enemy's element\n            }\n        }\n    }\n}\n\n\n// handle enemy hits (from bullets)\nfunction enemyHit(enemy, enemies) {\n    // Decrease enemy health\n    enemy.health = (enemy.health || 0) - 1;\n\n    // Check if enemy is \"dead\"\n    if (enemy.health <= 0) {\n        console.log('Target Eliminated');\n        // Remove the enemy\n        enemies.splice(enemies.indexOf(enemy), 1);\n    }\n}\n\n\n\n// what happens when the player is hit?\nfunction handleCarCollision(player) {\n    player.x -= -2; // Move the player upward by 50 pixels\n    player.element.classList.add('jumping');\n    //modify the .jumping class in CSS to add immersion to the vehicular homicide \n\n    // Remove the jumping class after a delay to stop the animation\n    setTimeout(() => {\n        player.element.classList.remove('jumping');\n    }, 125); // Adjust the delay as needed\n}\n\n\n\n\n// // Call the gameLoop function to start the game loop\n// gameLoop(player, sundayDriver, enemies, bullets);","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}